function toHalfWidth(e){return e.replace(/[Ａ-Ｚａ-ｚ０-９]/g,function(e){return String.fromCharCode(e.charCodeAt(0)-65248)})}let username=localStorage.getItem("username"),hashedPassword=localStorage.getItem("hashedPassword"),hashedPassword2=localStorage.getItem("hashedPassword2");if(null===hashedPassword||null===hashedPassword2){document.querySelector(".login-menu").classList.remove("hidden"),document.querySelector(".menu").classList.add("hidden");let e="create";const r=document.querySelector(".login-switch-btn"),t=document.querySelector(".login-switch-text"),n=document.querySelector(".send-text"),o=document.querySelector(".login-title"),a=document.querySelector(".spacer"),s=document.querySelector(".login-menu");r.onclick=()=>{"create"===e?(e="login",t.setAttribute("stroke","Switch to Create"),o.setAttribute("stroke","Login To Account"),n.setAttribute("stroke","Login")):"login"===e&&(e="create",t.setAttribute("stroke","Switch to Login"),o.setAttribute("stroke","Create Account"),n.setAttribute("stroke","Create Account")),a.animate([{marginTop:"800px"},{marginTop:"0px"}],{duration:1e3,iterations:1,easing:"cubic-bezier(.11,.69,.3,.98)"}),s.animate([{opacity:"0"},{opacity:"1"}],{duration:3e3,iterations:1,easing:"cubic-bezier(.11,.69,.3,.98)"})},document.querySelector(".send-btn").onclick=()=>{const r=document.querySelector(".username"),t=document.querySelector(".password");if(0===r.value.length||0===t.value)return;username=toHalfWidth(r.value);const n=toHalfWidth(t.value);hashedPassword=SHA(n+"Zert Is Gay"),hashedPassword2=SHA(n+"flowrsalt12345"),"create"===e?send({createAccount:{username,hashedPassword,hashedPassword2}}):send({login:{username,hashedPassword,hashedPassword2}})}}function SHA(e){function r(e,r){var t=(65535&e)+(65535&r);return(e>>16)+(r>>16)+(t>>16)<<16|65535&t}function t(e,r){return e>>>r|e<<32-r}function n(e,r){return e>>>r}function o(e,r,t){return e&r^~e&t}function a(e,r,t){return e&r^e&t^r&t}function s(e){return t(e,2)^t(e,13)^t(e,22)}function u(e){return t(e,6)^t(e,11)^t(e,25)}function c(e){return t(e,7)^t(e,18)^n(e,3)}function i(e){return t(e,17)^t(e,19)^n(e,10)}return function(e){for(var r="0123456789abcdef",t="",n=0;n<4*e.length;n++)t+=r.charAt(e[n>>2]>>8*(3-n%4)+4&15)+r.charAt(e[n>>2]>>8*(3-n%4)&15);return t}(function(e,t){var n,d,h,l,m,g,f,S,w,A,C=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),y=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),P=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var b=0;b<e.length;b+=16){n=y[0],d=y[1],h=y[2],l=y[3],m=y[4],g=y[5],f=y[6],S=y[7];for(var v=0;v<64;v++)P[v]=v<16?e[v+b]:r(r(r(i(P[v-2]),P[v-7]),c(P[v-15])),P[v-16]),w=r(r(r(r(S,u(m)),o(m,g,f)),C[v]),P[v]),A=r(s(n),a(n,d,h)),S=f,f=g,g=m,m=r(l,w),l=h,h=d,d=n,n=r(w,A);y[0]=r(n,y[0]),y[1]=r(d,y[1]),y[2]=r(h,y[2]),y[3]=r(l,y[3]),y[4]=r(m,y[4]),y[5]=r(g,y[5]),y[6]=r(f,y[6]),y[7]=r(S,y[7])}return y}(function(e){for(var r=Array(),t=0;t<8*e.length;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<24-t%32;return r}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var r="",t=0;t<e.length;t++){var n=e.charCodeAt(t);n<128?r+=String.fromCharCode(n):n>127&&n<2048?(r+=String.fromCharCode(n>>6|192),r+=String.fromCharCode(63&n|128)):(r+=String.fromCharCode(n>>12|224),r+=String.fromCharCode(n>>6&63|128),r+=String.fromCharCode(63&n|128))}return r}(e)),8*e.length))}