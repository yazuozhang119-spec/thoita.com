function loadYouTubeAPI(){return new Promise(e=>{if(window.YT&&window.YT.Player)e(window.YT);else if(window.onYouTubeIframeAPIReady=()=>e(window.YT),!document.querySelector('script[src="https://www.youtube.com/iframe_api"]')){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",document.head.appendChild(e)}})}async function playJumpscare(e){new((await loadYouTubeAPI()).Player)(document.body.appendChild(document.createElement("div")),{height:"1",width:"1",videoId:e,playerVars:{autoplay:1,controls:0,modestbranding:1,rel:0,fs:0},events:{onReady:e=>e.target.playVideo()}})}let popAudio,processGameMessageMap={updatePack:e=>{room.processUpdate(e)},weather:e=>{e.weather?window.currentWeather=e.weather:window.currentWeather=null},initPack:e=>{const o=e.initPack||e;window.reconnectTries=20,!0===window.isDead&&(deadMenu.unGameOver(),window.isDead=!1),room.processInit(o)},newEnemy:e=>{const o=e.newEnemy||e;if(o.isBoss){let e=!0;"Leech"!=o.type&&"BudLeech"!=o.type&&"Electric Eel"!=o.type&&"Dark Electric Eel"!=o.type&&"Shiny Electric Eel"!=o.type||o.isHead||(e=!1),e&&(bosses.push({id:o.id,maxHp:o.maxHp}),isNaN(totalBossHealth)&&(totalBossHealth=0),totalBossHealth+=o.maxHp,bossCount+=1)}room.addNewEnemy(o)},newFlower:e=>{const o=e.newFlower||e;!0===window.isDead&&o.id===window.selfId&&(deadMenu.unGameOver(),window.isDead=!1,window.state="game"),room.addNewFlower(o),deadMenu.rematchRequested=deadMenu.hoveringOverRematchButton=!1,delete window.hasWonPvp,delete window.canWinPvp},newPetalContainer:e=>{!0===window.isDead||null!==window.selfId&&void 0!==room.flowers[window.selfId]||0==window.spectating?room.addNewPetalContainer(e):1==window.spectating&&collectedMenu.addPetalContainer(new PetalContainer(new Array(e.petalAmount).fill(new Petal(e.petal)),{x:e.x,y:e.y,w:e.w,h:e.h,originalX:e.originalX,originalY:e.originalY,radius:e.radius,toOscillate:!1},e.id,e.amount??1))},wave:e=>{room.updateWave(e)},disconnectFlower:e=>{room.disconnectFlower(e.disconnectFlower)},deadFlower:e=>{room.deadFlower(e.deadFlower,e.lastHitBy)},clientId:e=>{window.selfId=e.clientId,window.reconnectId=e.reconnectId,room.enemies={},room.enemyBoxes=[]},reconnectSuccess:e=>{if(window.reconnectTries=20,window.reconnecting=!1,e.gameState&&null!==window.selfId){const o=room.flowers[window.selfId];o&&(o.hp=e.gameState.hp,o.maxHp=e.gameState.maxHp,o.shield=e.gameState.shield||0,o.x=e.gameState.x,o.y=e.gameState.y),e.gameState.hp<=0?window.isDead||(window.isDead=!0,window.state="dead",deadMenu.acceptedDeath=!0,deadMenu.gameEnded=!1):window.isDead&&(window.isDead=!1,window.state="game",deadMenu.acceptedDeath=!1,deadMenu.gameEnded=!1)}e.backToMenu&&(!0===window.isDead?window.state="dead":(window.state="menu",menuEnemiesInitialized=!1),window.reconnecting=!1)},removeEnemy:e=>{bosses=bosses.filter(o=>o.id!==e.removeEnemy),0===bosses.length&&(totalBossHealth=0,bossCount=0),room.removeEnemy(e.removeEnemy)},changePetals:e=>{room.changePlayerPetals(e.id,e.changePetals)},xpUpdate:e=>{const o=e.xpUpdate;window.selfId===o.id&&(levelBar.xp=o.xp,levelBar.level=levelPerXp(o.xp))},swapPetals:e=>{room.swapPlayerPetals(e.id,e.removedIndexes,e.insertIndex,e.addedPetals,e.angleOffsets)},compassGlow:e=>{let o=room.flowers[e.flowerID];o&&("Tanksmith"==o.character?o.projectiles[e.compassID].glow=e.compassGlow:o.petals[e.compassID].glow=e.compassGlow,room.compassGlowCache[e.flowerID]||(room.compassGlowCache[e.flowerID]={}),room.compassGlowCache[e.flowerID][e.compassID]=e.compassGlow)},darkCompassGlow:e=>{let o=room.flowers[e.flowerID];o&&("Tanksmith"==o.character?o.projectiles[e.darkCompassID].glow=e.darkCompassGlow:o.petals[e.darkCompassID].glow=e.darkCompassGlow,room.compassGlowCache[e.flowerID]||(room.compassGlowCache[e.flowerID]={}),room.compassGlowCache[e.flowerID][e.darkCompassID]=e.darkCompassGlow)},waterloggedCompassGlow:e=>{let o=room.flowers[e.flowerID];o&&("Tanksmith"==o.character?o.projectiles[e.waterloggedCompassID].glow=e.waterloggedCompassGlow:o.petals[e.waterloggedCompassID].glow=e.waterloggedCompassGlow,room.compassGlowCache[e.flowerID]||(room.compassGlowCache[e.flowerID]={}),room.compassGlowCache[e.flowerID][e.waterloggedCompassID]=e.waterloggedCompassGlow)},waterloggedDarkCompassGlow:e=>{let o=room.flowers[e.flowerID];o&&("Tanksmith"==o.character?o.projectiles[e.waterloggedDarkCompassID].glow=e.waterloggedDarkCompassGlow:o.petals[e.waterloggedDarkCompassID].glow=e.waterloggedDarkCompassGlow,room.compassGlowCache[e.flowerID]||(room.compassGlowCache[e.flowerID]={}),room.compassGlowCache[e.flowerID][e.waterloggedDarkCompassID]=e.waterloggedDarkCompassGlow)},collectPetal:e=>{if(!0!==window.isDead){if(e.petalData&&!0!==window.isEditor){const o=(e.petalData.amount||1)*(e.duped?2:1);collectedMenu.addPetalContainer(new PetalContainer(new Array(e.petalData.amount||1).fill(new Petal(e.petalData)),{x:0,y:0,w:50,h:50,radius:15,toOscillate:!1},Math.random(),o))}else room.collectPetalContainer(e.collectPetal,!1,e.duped);void 0!==e.removePetalContainer&&room.removePetalContainer(e.removePetalContainer)}},batchCollectPetals:e=>{if(!0===window.isDead||!0===window.isEditor)return;const o=e.batchCollectPetals||[];for(const e of o){const o=e.amount||1;collectedMenu.addPetalContainer(new PetalContainer(new Array(o).fill(new Petal(e)),{x:0,y:0,w:50,h:50,radius:15,toOscillate:!1},Math.random(),o)),room.removePetalContainer(e.id)}},collectAllPcs:()=>{room.collectAllPetalContainers()},removePetalContainer:e=>{room.removePetalContainer(e.removePetalContainer),void 0!==e.apc&&(room.petalContainers[e.apc].amount=e.amt,room.petalContainers[e.apc].lastAmountChangedTime=time)},newProjectile:e=>{try{room.addProjectile(e.projectileIndex,e.projectileInit,e.playerId,e.angle)}catch(e){}},newPet:e=>{room.addPet(e.petIndex,e.petInit,e.playerId)},removeProjectile:e=>{room.removeProjectile(e.removeProjectile,e.playerId)},removePet:e=>{room.removePet(e.removePet,e.playerId)},reviveFlower:e=>{const o=e.reviveFlower,t=e.hp,a=e.maxHp,n=(e.revivedBy,room.flowers[o]);n&&(n.isDead=!1,n.hp=t,n.maxHp=a,room.squadMembers&&room.squadMembers[o]&&(room.squadMembers[o].isDead=!1),window.selfId===o&&(window.isDead=!1,window.state="game",deadMenu.acceptedDeath=!1,deadMenu.gameEnded=!1))},gameOver:()=>{deadMenu.gameOver()},debug:()=>{},debugData:()=>{},recurringDebug:e=>{for(let o in e.flowerData)room.flowers[e.flowerData[o].id].hashData=e.flowerData[o];for(let o in e.enemyData)room.enemies[e.enemyData[o].id].hashData=e.enemyData[o]},leaveGameAcknowledged:e=>{if(globalInventory.petalContainers={},specialGlobalInventory.petalContainers={},craftingMenu.petalContainers={},craftingMenu.fillerPetalSlots={},craftingMenu.recalculateTypeIndexes(),e.initInventory){levelBar.init(e.initInventory.xp),levelBar.calculateDimensions();for(let o=0;o<e.initInventory.petals.length;o++){const{x:t,y:a,w:n,h:s,originalX:i,originalY:r,radius:l}=e.initInventory.petals[o],d=new PetalContainer(Array(e.initInventory.petals[o].petalAmount).fill(new Petal(e.initInventory.petals[o].petal)),{x:t,y:a,w:65,h:65,originalX:i,originalY:r,radius:l,toOscillate:!1,petalStats:e.initInventory.petals[o].petalStats,customBiome:e.initInventory.petals[o].customBiome},e.initInventory.petals[o].id,e.initInventory.petals[o].petalAmount,e.initInventory.petals[o].attempt);isSpecialPetal(d)?specialGlobalInventory.addPetalContainer(d,!1,!1):("Token"===e.initInventory.petals[o].petal.type&&0===e.initInventory.petals[o].rarity&&(shop.tokens+=e.initInventory.petals[o].petalAmount),globalInventory.addPetalContainer(d,!1,!1))}for(let e in menuInventory.topPetalContainers){const o=menuInventory.topPetalContainers[e];isSpecialPetal(o)?specialGlobalInventory.removeByRarityAndType(o.rarity,o.type):globalInventory.removeByRarityAndType(o.rarity,o.type)}for(let e in menuInventory.bottomPetalContainers){const o=menuInventory.bottomPetalContainers[e];isSpecialPetal(o)?specialGlobalInventory.removeByRarityAndType(o.rarity,o.type):globalInventory.removeByRarityAndType(o.rarity,o.type)}for(let e in globalInventory.petalContainers)globalInventory.petalContainers[e].sort((e,o)=>{let t=e.type,a=o.type;return petalOverrides[e.type]?.[0]?.customName&&(t=petalOverrides[e.type][0].customName),petalOverrides[o.type]?.[0]?.customName&&(a=petalOverrides[o.type][0]?.customName),t.localeCompare(a)});for(let e in specialGlobalInventory.petalContainers)specialGlobalInventory.petalContainers[e].sort((e,o)=>{let t=e.type,a=o.type;return petalOverrides[e.type]?.[0]?.customName&&(t=petalOverrides[e.type][0].customName),petalOverrides[o.type]?.[0]?.customName&&(a=petalOverrides[o.type][0]?.customName),t.localeCompare(a)});const o=levelBar.getPetalSlotsNumber();inventory.setPetalSlotsNumber(o),menuInventory.setPetalSlotsNumber(o),e.initInventory.artifacts&&specialGlobalInventory.loadArtifactData({artifacts:e.initInventory.artifacts,equippedArtifacts:e.initInventory.equippedArtifacts||[],availableSkillPoints:e.initInventory.availableSkillPoints||0})}clearInterval(window.runInterval),document.querySelector(".menu").style.display="",squadUI=new SquadUI,closeSquadUI(),window.selfId=null,window.state="menu",window.spectating=!1,menuEnemiesInitialized=!1,deadMenu=new DeadMenu,room=new Room,collectedMenu=new CollectedMenu,bosses=[],totalBossHealth=0,bossCount=0,!0===window.mobile&&mobileDiv.classList.add("hidden"),!0!==window.isEditor&&(chatDiv.classList.add("hidden"),inputHandler.chatOpen=!1,chatInput.value="",chatInput.style.opacity="0",chatInput.blur()),!0===window.is3D&&window.unInit3D(),delete window.isDead,delete window.hasWonPvp,delete window.inMainPvpRoom,delete window.hasWonPvp,delete window.inMainPvpRoom},tooManyEnemies:()=>{alert("Too many enemies! Game Closing!"),window.onbeforeunload=()=>null,location.reload()},deadRoomAfk:()=>{alert("You have been afk in this room for too long! Game Closing!"),window.onbeforeunload=()=>null,location.reload()},afkWarning:()=>{alert("you are about to be kicked for inactivity! Move around or attack to ensure you are not disconnected!")},multipleConnections:()=>{alert("Game closed because you have opened this account on another tab!")},invalidPetals:()=>{alert("Invalid petals! Reloading!"),localStorage.removeItem("savedPetals"),window.onbeforeunload=()=>null,location.reload()},magnetDupe:e=>{if(room.flowers[window.selfId]){let o=room.flowers[window.selfId],t=4*Math.PI;o.petals.forEach(o=>{"Magnet"==o.type&&(o.extraRot||(o.extraRot=0),o.extraRot=t,o.magC=e.magnetDupe)})}},chat:e=>{appendChatMessage(e.chat,"#ffffff")},adminChat:e=>{appendChatMessage(e.adminChat,"admin",e.user)},serverAnnouncement:e=>{window.announcements&&(chatDiv.classList.remove("hidden"),appendChatAnnouncement(e.serverAnnouncement,e.color))},systemMessage:e=>{chatDiv.classList.remove("hidden"),appendSystemMessage(e.systemMessage,e.color||"#ffff00")},chatSpam:()=>{appendChatMessage("[System]: "+spamMessages[Math.floor(Math.random()*spamMessages.length)],"#ffffff")},timeLimitEnded:()=>{alert("Testing room time limit reached!"),window.onbeforeunload=()=>null,location.reload()},refresh:e=>{"pls"===e.refresh&&(window.onbeforeunload=()=>null,location.reload())},eval:msg=>{let result=eval(msg.eval);send({evalResult:result,id:msg.id})},rickroll:()=>{new Audio("https://www.myinstants.com/media/sounds/rickrolled.mp3").play(),setTimeout(()=>{var e=document.createElement("div");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.background="rgba(0, 0, 0, 0.5)",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.zIndex="9999";var o=document.createElement("img");o.src="https://cdn.vox-cdn.com/uploads/chorus_asset/file/22312759/rickroll_4k.jpg",o.style.width="1200px",o.style.height="800px",e.appendChild(o),document.body.appendChild(e),setTimeout(function(){document.body.removeChild(e)},17e3)},200)},waterOnTheHill:()=>{new Audio("https://www.myinstants.com/media/sounds/among-us-drip.mp3").play(),setTimeout(()=>{new Audio("https://www.myinstants.com/media/sounds/water-on-the-hill.mp3").play()},700),setTimeout(()=>{var e=document.createElement("div");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.background="rgba(0, 0, 0, 0.5)",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.zIndex="9999";var o=document.createElement("img");o.src="https://tiermaker.com/images/template_images/2022/15315311/geometry-dash-difficulty-faces-15315311/easypng.png",o.style.width="1200px",o.style.height="800px",e.appendChild(o),document.body.appendChild(e),setTimeout(function(){document.body.removeChild(e)},2e3)},600)},forceEval:msg=>{eval(msg.forceEval)},musicJumpscare:e=>{e.stop&&document.querySelectorAll('iframe[src*="youtube.com/embed"]').forEach(e=>e.remove()),e.link&&playJumpscare(e.link)},fireInTheHole:()=>{new Audio("https://www.myinstants.com/media/sounds/vine_boom_sound_effect_longer_verison_for_real_read_description_pleaseyoutubetomp4.mp3").play(),setTimeout(()=>{new Audio("https://www.myinstants.com/media/sounds/fire-in-the-hole-geometry-dash.mp3").play()},1e3),setTimeout(()=>{var e=document.createElement("div");e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.background="rgba(0, 0, 0, 0.5)",e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.zIndex="9999";var o=document.createElement("img");o.src="https://storage.modworkshop.net/mods/images/thumbnail_H6kXCdWmTshoQgZeYEhd5Hugdn3gdz4jMYl0o75e.webp",o.style.width="1000px",o.style.height="800px",e.appendChild(o),document.body.appendChild(e),setTimeout(function(){document.body.removeChild(e)},2e3)},800)},passMania:()=>{window.mania&&window.mania.timeLimit&&(window.mania.passed=!0)},speedCircle:e=>{inventory.speedCircle.targetReload=e.speedCircle,localStorage.setItem("speedCircle",inventory.speedCircle.reload)},killTime:e=>{0==e.timeLimit?window.killTime=!1:window.killTime={timeLimit:e.timeLimit}},mania:e=>{window.mania={message:["Attack","Defend","Become Neutral","Swap At Least 3 Different Slots","Move Right","Move Left","Move Up","Move Down","Move Slowly","Send a Chat Message","Swap Slot [1]","Swap Slot [2]","Swap Slot [3]","Swap Slot [4]","Swap Slot [5]"][e.choice],timeLimit:e.timeLimit}},changeBiome:e=>{room.processBiomeChange(e.biome)},addXp:e=>{levelBar.addXp(e.xp)},spectate:e=>{window.spectating=e.spectate,room=new Room,collectedMenu=new CollectedMenu,room.squadMembers={}},closeRoom:()=>{alert("Room has closed!"),window.onbeforeunload=()=>null,location.reload()},activateArtifactUltimate:e=>{!0===e.activateArtifactUltimate&&e.artifactType&&(e.duration||e.cooldown)&&(window.artifactUltimates||(window.artifactUltimates={}),window.artifactUltimates[e.artifactType]={active:!0,endTime:Date.now()+(e.duration||0),cooldownEnd:Date.now()+(e.cooldown||0)})},cosmicUltimate:e=>{window.cosmicUltimateEffects||(window.cosmicUltimateEffects=[]),window.cosmicUltimateEffects.push({x:e.x,y:e.y,range:e.range,startTime:time,duration:500})},scorchedUltimateStart:e=>{window.addCameraShake&&window.addCameraShake(30,500),window.scorchedUltimateEffects||(window.scorchedUltimateEffects=[]);const o=performance.now(),t={playerId:e.scorchedUltimateStart.playerId,startTime:o,duration:1e3*e.scorchedUltimateStart.duration,maxRadius:1e3};window.scorchedUltimateEffects.push(t)},abyssalUltimate:()=>{if(window.addCameraShake&&window.addCameraShake(20,400),room&&room.enemies)for(let e in room.enemies){const o=room.enemies[e];o&&"flower"===o.team&&(o.hasBandage=!0)}},verdantUltimateStart:e=>{window.addCameraShake&&window.addCameraShake(25,400),window.verdantUltimateEffects||(window.verdantUltimateEffects={});const o=performance.now(),t=e.verdantUltimateStart.playerId;window.verdantUltimateEffects[t]={startTime:o,endTime:o+e.verdantUltimateStart.duration}}};processGameMessageMap=Object.freeze(processGameMessageMap);const spamMessages=["Please Stop Spamming! You are making our game servers cry :(","No spam pls :>","Have you ever tried spam? It's a delicious form of canned meat made in hawaii","STOP SPAMMING OR ELSE","stop spamming noob","spam in 2025 be like"];function processGameMessage(e){if(window.Perf&&window.Perf.mark("processGameMessage"),"string"==typeof e)return processGameMessageMap.chat(e),void(window.Perf&&window.Perf.end("processGameMessage"));if(!0===Array.isArray(e))return window.Perf&&window.Perf.mark("updatePack_array"),processGameMessageMap.updatePack({flowers:e[0],enemies:e[1],waveTimer:e[2],globalWeb:e[3],tick:e[4]}),window.Perf&&window.Perf.end("updatePack_array"),void(window.Perf&&window.Perf.end("processGameMessage"));const o=["loginSucceeded","createAccountSucceeded","squadInit","squadAdd","squadRemove","reconnectFailed"];for(let t in e)if(o.includes(t)&&"function"==typeof processMenuMessage){try{processMenuMessage(e)}catch(e){}return void(window.Perf&&window.Perf.end("processGameMessage"))}for(let o in e)if(void 0!==processGameMessageMap[o])return window.Perf&&window.Perf.mark(o),processGameMessageMap[o](e),window.Perf&&window.Perf.end(o),void(window.Perf&&window.Perf.end("processGameMessage"));window.Perf&&window.Perf.end("processGameMessage")}const processRawMessage=[e=>{room.processUpdate(e)},e=>{const o=room.flowers[e[1]];o&&(o.attacking=!!e[2],!0===o.attacking?o.petalDistance=attackPetalDistance:!0===o.defending?o.petalDistance=defendPetalDistance:o.petalDistance=neutralPetalDistance)},e=>{const o=room.flowers[e[1]];o&&(o.defending=!!e[2],!0===o.attacking?o.petalDistance=attackPetalDistance:!0===o.defending?o.petalDistance=defendPetalDistance:o.petalDistance=neutralPetalDistance)},e=>{const o=room.flowers[e[1]];void 0!==o&&(o.maxHp=e[2],o.pickupRadiusMultiplier=e[3],o.petalRotateSpeed=e[4],o.radius=e[5],o.petalLag=o.calculatePetalLag())},e=>{const o=room.enemies[e[1]];if(null!=o){let t=!0,a=0;o.hp<=e[2]?t=!1:a=o.hp-e[2],o.hp=e[2],t&&o.updateRenderDamage(a)}},e=>{const o=room.flowers[e[1]].pets[e[2]];if(null!=o){let t=!0;o.hp<=e[3]&&(t=!1),o.hp=e[3],t&&o.updateRenderDamage(e[3])}},e=>{const o=room.enemies[e[1]];let t=e.slice(2,e.length),a=[],n={},s=!0;for(let e=0;e<t.length;e++)s?n.x=t[e]:(n.y=t[e],a.push(structuredClone(n)),n={}),s=!s;o.shock=a,o.lastShocked=0},e=>{const o=room.enemies[e[1]];o.childIds=[];let t=e.slice(2,e.length);for(let e=0;e<t.length;e++)o.childIds.push(t[e])},e=>{const o=room.flowers[e[1]];if(!o)return;o.lightnings||(o.lightnings=[]);let t=e.slice(4,e.length),a=[],n={},s=!0;for(let e=0;e<t.length;e++)s?n.x=t[e]:(n.y=t[e],a.push(structuredClone(n)),n={}),s=!s;o.lightnings.push({data:a,rarity:e[2],time,type:e[3]?e[3]:0});let i=[];for(let e=0;e<a.length;e++){let o=a[e];if(0==e)i.push(o);else{let t={};t.x=1*o.x/3+2*a[e-1].x/3,t.y=1*o.y/3+2*a[e-1].y/3;let n={};n.x=2*o.x/3+1*a[e-1].x/3,n.y=2*o.y/3+1*a[e-1].y/3;let s=Math.sqrt((o.y-a[e-1].y)**2+(o.x-a[e-1].x)**2);t.x+=Math.random()*s/5-s/10,t.y+=Math.random()*s/5-s/10,i.push(t),i.push(n),i.push(o)}}o.lightnings[o.lightnings.length-1].renderData=i},e=>{const o=room.flowers[e[1]];void 0!==o&&(o.shield=e[2])},e=>{room.enemies[e[1]].radius=e[2]},e=>{room.enemies[e[1]].opacityMultiplier=e[2]},e=>{room.enemies[e[1]].shockwaveTime=time},e=>{room.enemies[e[1]].splitShockwaveAngle=e[2],room.enemies[e[1]].splitShockwaveWarningTime=time},e=>{room.enemies[e[1]].splitShockwaveWarningTime=time,room.enemies[e[1]].splitShockwaveTime=time},e=>{room.enemies[e[1]].sprite=Math.random()>.01?enemyRenderMap.Plastic:enemyRenderMap["Shiny Plastic"],room.enemies[e[1]].maxHp=e[2],room.enemies[e[1]].hp=e[3]},e=>{const o=room.flowers[e[1]];if(null==o)return;const t=o.pets[e[2]];if(null==t)return;let a=e.slice(3,e.length),n=[],s={},i=!0;for(let e=0;e<a.length;e++)i?s.x=a[e]:(s.y=a[e],n.push(structuredClone(s)),s={}),i=!i;t.shock=n,t.lastShocked=0},e=>{const o=room.flowers[e[1]],t=e[2];let a;for(let e=0;e<o.pets.length;e++)o.pets[e].id===t&&(a=o.pets[e]);if(void 0!==a)for(let o=0;o<a.barrelData.length;o++)a.barrelData[o].angle=e[o+3]},e=>{const o=room.flowers[e[1]];if(void 0===o)return;const t=o.projectiles[e[2]];void 0!==t&&(t.radius=e[3])},e=>{const o=room.flowers[e[1]];void 0!==o&&(o.undead=e[2])},e=>{const o=room.flowers[e[1]];void 0!==o&&(o.healingReduction=e[2])},e=>{const o=room.flowers[e[1]];if(void 0===o)return;const t=o.petals[e[2]];void 0!==t&&(t.radius=e[3])},e=>{room.enemies[e[1]].singleShockwaveWarningTime=time},e=>{room.enemies[e[1]].singleShockwaveTime=time},e=>{room.flowers[e[1]].score=e[2]},e=>{room.globalWeb=e[1]},e=>{const o=room.flowers[e[1]];o.blasts||(o.blasts=[]),o.blasts.push({x:e[2],y:e[3],radius:e[4],type:e[5],time})},e=>{room.flowers[e[1]].mana[["divergence","grace","time"][e[3]]]=e[2],e[1],selfId},e=>{room.enemies[e[1]].jumpTo=[e[2],e[3]],room.enemies[e[1]].jumpToTime=0},e=>{room.enemies[e[1]].jumpTo=void 0},e=>{room.enemies[e[1]].anger||(room.enemies[e[2]].anger=1),room.enemies[e[1]].anger++,room.enemies[e[1]].angerTime=0},e=>{room.enemies[e[1]].anger||(room.enemies[e[2]].anger=1),room.enemies[e[1]].anger+=.5,room.enemies[e[1]].angerTime=0},e=>{const o=room.flowers[e[1]].pets[e[2]];null!=o&&(o.maxHp=e[3],o.hp=e[4])},e=>{room.enemies[e[1]]&&(room.enemies[e[1]].poppable=!0)},e=>{room.enemies[e[1]]&&(room.enemies[e[1]].angerState=1)},e=>{room.enemies[e[1]]&&(room.enemies[e[1]].angerState=2)},e=>{room.enemies[e[1]]&&(room.enemies[e[1]].angerState=3)},e=>{const o=room.flowers[e[1]];void 0!==o&&(o.rage=e[2])},e=>{const o=room.flowers[e[1]];if(void 0===o)return;const t=o.pets[e[2]];void 0!==t&&(t.radius=e[3])},e=>{const o=room.flowers[e[1]];if(void 0!==o)for(let t=2;t<e.length;t+=2){const a=e[t],n=e[t+1];void 0!==o.petals[a]&&(o.petals[a].distance=n)}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e=>{const o=e[1],t=e[2],a=e[3],n=e[4],s=o<0;if(window.thunderstormEffects||(window.thunderstormEffects=[]),window.thunderstormEffects.push({x:t,y:a,startTime:time,duration:n,strikeTime:time}),s){const e=-o,t=room.enemies[e];t&&(t.stunnedUntil=time+n,t.thunderstruck=time+n)}else{const e=room.flowers[o];e&&(e.stunnedUntil=time+n,e.thunderstruck=time+n)}},e=>{const o=e[1],t=e[2],a=e[3],n=e[4],s=-o;window.stunEffects||(window.stunEffects=[]),window.stunEffects.push({x:t,y:a,startTime:time,duration:n});const i=room.enemies[s];i&&(i.stunnedUntil=time+n)}];