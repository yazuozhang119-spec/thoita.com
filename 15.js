const petalRotationNaturalRotate={Leaf:.001,Cinderleaf:.002,Rock:.001,Dust:.01,Ruby:.001,Sapphire:.001,Emerald:.001,"Amulet of Divergence":.001,"Amulet of Grace":.001,"Amulet of Time":.001,Rice:.001,Yucca:.001,Clover:.001,Horn:.002,"Blood Horn":.002,"Dark Spine":.002,Shade:.002,Radiance:.002,Pincer:.001,"Yin Yang":.002,Corn:5e-4,Bone:.001,Token:.001,Wing:.01,"Shiny Wing":.01,Honey:.001,"Neutron Star":.005,Magnet:.001,Stick:.001,Salt:.001,Powder:.01,Toxin:1/220,Neurotoxin:1/220,Batrachotoxin:1/220,Square:.001,Pentagon:.001,Orange:.001,Mandible:.001,"Blood Mandible":.001,"Third Eye":.001,"Bloodshot Eye":.001,Bubble:.001,"Shiny Bubble":.001,Starfish:.001,Brisingida:5e-4,Claw:.001,Lightning:.001,Fangs:.001,Jolt:.001,"Blood Jolt":.002,Jelly:.001,Pearl:.001,Sponge:.001,Shell:.001,Coral:.001,Trident:.002,Card:.001,"Waterlogged Compass":.001,Plank:.001,Fig:.001,Root:.001,Coconut:.002},petalRotationStickToParent=["Spore","Missile","Dandelion","Web","Homing Missile","Fire Missile","Carrot","Stalk"],petalFaceCenter={Stinger:0,"Blood Stinger":0,Blade:0,Starfish:0,Brisingida:0,Spikes:Math.PI},CONSERVATIVE_PETALS=new Set(["Rose","Dahlia","Shell","Trident","Egg","Shiny Egg","Ant Egg","Jellyfish Egg","Neuroflare Egg","Bubble"]),petalPackKeys=[];class Petal{constructor(t){if(void 0===petalRenderMap[t.type]&&void 0!==editorPetalShapesMap[t.type])return new Petal({...t,type:"Custom",customType:t.type});for(let e in t)this[e]=t[e];this.render={},this.render.distance=this.distance,this.render.angle=this.angle,this.selfAngle=this.angle,this.render.x=this.x,this.render.y=this.y,this.render.reload=void 0!==this.reload?this.reload:this.maxReload||3e3,this.render.hp=void 0!==this.hp?this.hp:this.maxHp||100,void 0===this.dying&&(this.dying=!1),void 0===this.deadAnimationTimer&&(this.deadAnimationTimer=9999),!0===t.dead&&(this.firstDeadFlag=!0),this.ticksSinceLastDamaged=9999,this.insidePetalContainer=!1,this.isProjectile=!1,"Blood Corn"===this.type&&(this.bloodCornGrowthStartTime=Date.now(),this.bloodCornBaseRadius=this.radius),window.isEditor&&(this.time=0)}update(t,e){!0===t.takeDamage&&!0!==this.shotFlag&&(this.updateRenderDamage(),this.render.hp=t.hp);for(let e in t)this[e]=t[e];if(!0===t.dead){if(void 0!==this.firstDeadFlag)return void delete this.firstDeadFlag;if(!0===this.shotFlag)return delete this.shotFlag,this.dead=!0,this.dying=!1,this.deadAnimationTimer=9999,delete this.deadPosition,void(this.ticksSinceLastDamaged=9999);!0===t.dying?(this.dying=!0,this.deadAnimationTimer=0,void 0!==t.deadPosition?this.deadPosition=t.deadPosition:void 0===this.deadPosition&&(this.deadPosition={x:this.x,y:this.y})):!0!==t.dying&&!0!==this.dying&&!0!==this.dead&&(this.dying=!0,this.deadAnimationTimer=0,void 0===this.deadPosition&&(this.deadPosition={x:this.x,y:this.y}))}else!1===t.dead&&(this.dead=!1,this.dying=!1,this.deadAnimationTimer=9999,delete this.deadPosition,this.selfAngle=this.render.angle,"Blood Corn"===this.type&&(this.bloodCornGrowthStartTime=Date.now(),this.bloodCornBaseRadius=this.radius))}updateRenderDamage(t){this.ticksSinceLastDamaged=0,this.lastTicksSinceLastDamaged=0}updateInterpolate(t){if(void 0!==this.miniPetalChildId){const e=t;let a=!1;for(let e=0;e<t.petals.length;e++)if(t.petals[e].miniPetalParentId===this.miniPetalChildId){t=t.petals[e],a=!0;break}if(!1===a)return;t.baseX=t.x,t.baseY=t.y,t.petalLag=e.petalLag,t.render.baseX=t.render.x,t.render.baseY=t.render.y,t.petalRotateSpeed=0,t.petalRotation=-e.petalRotation}if("Homing MissileProjectile"==this.type&&(null!=this.lastPosition&&(this.render.selfAngle=Math.atan2(this.render.y-this.lastPosition.y,this.render.x-this.lastPosition.x)),this.lastPosition={x:this.render.x,y:this.render.y}),!0===this.isProjectile||void 0!==this?.stats?.code&&void 0===this.hasNormalPetalSimulate){if(window.isEditor&&void 0!==this.deadPosition)return;return this.render.x=interpolate(this.render.x,this.x,.08*dt/16.66),this.render.y=interpolate(this.render.y,this.y,.08*dt/16.66),void(this.selfAngle=interpolateDirection(this.selfAngle,this.render.selfAngle,.08*dt/16.66))}this.angle=t.petalRotation+this.angleOffset;let e=this.offset.angle;if(this.stickParentRotation&&(e+=this.angle),this.dv=this.dv||0,"Wing"===this.type||"Shiny Wing"===this.type);else if(CONSERVATIVE_PETALS.has(this.type)){const e=70,a=.6*e,i=t.petalDistance<e?a:e;this.dv+=(i-this.distance)/4.85,this.distance+=this.dv,this.dv*=.68}else this.dv+=(t.petalDistance-this.distance)/4.85,this.distance+=this.dv,this.dv*=.68;if("Blood Corn"===this.type&&this.bloodCornGrowthStartTime&&this.bloodCornBaseRadius){const t=(Date.now()-this.bloodCornGrowthStartTime)/1e3,e=1+Math.min(t,60)/60*2;this.radius=this.bloodCornBaseRadius*e}this.x=t.baseX+Math.cos(this.angle)*this.distance+Math.cos(e)*this.offset.distance,this.y=t.baseY+Math.sin(this.angle)*this.distance+Math.sin(e)*this.offset.distance,"Wing"===this.type||"Shiny Wing"===this.type?this.render.distance=this.distance:!0===this.slowInterpolateDistance?this.render.distance=interpolate(this.render.distance,this.distance,Math.max(.01,this.render.distance/this.distance/10)*dt/16.66):this.render.distance=interpolate(this.render.distance,this.distance,.64*dt/16.66),this.render.angle=interpolateDirection(this.render.angle-t.petalLag,this.angle,Math.min(.8,Math.max(5*Math.abs(t.petalRotateSpeed),.3)*dt/16.66))+t.petalLag,!1===this.dead&&void 0!==this.deadPosition&&delete this.deadPosition,void 0!==this.deadPosition?(this.render.x=interpolate(this.render.x,this.deadPosition.x,.26*dt/16.66),this.render.y=interpolate(this.render.y,this.deadPosition.y,.26*dt/16.66)):(this.render.x=interpolate(this.render.x,t.render.baseX+Math.cos(this.render.angle)*this.render.distance+Math.cos(e)*this.offset.distance,.26*dt/16.66),this.render.y=interpolate(this.render.y,t.render.baseY+Math.sin(this.render.angle)*this.render.distance+Math.sin(e)*this.offset.distance,.26*dt/16.66)),this.render.reload=interpolate(this.render.reload,this.reload,.13*dt/16.66),this.render.hp=interpolate(this.render.hp,this.hp,.13*dt/16.66),petalRotationNaturalRotate[this.type]&&(this.selfAngle+=petalRotationNaturalRotate[this.type]*dt),petalRotationStickToParent.includes(this.type)&&(this.selfAngle=Math.atan2(this.render.y-t.render.y,this.render.x-t.render.x)),Object.keys(petalFaceCenter).includes(this.type)&&(this.selfAngle=petalFaceCenter[this.type]+this.render.angle+this.subStackedId/this.totalStackedId*Math.PI*2),"Bone"===this.type&&this.rarity>=16&&(this.selfAngle=this.render.angle+this.offset.angle),"Custom"===this.type&&(this.selfAngle=Math.atan2(this.render.y-t.render.y,this.render.x-t.render.x)),"Compass"!==this.type&&"Dark Compass"!==this.type&&"Waterlogged Compass"!==this.type||(this.lastCheckedTime||(this.lastCheckedTime=0),time>this.lastCheckedTime+2e3&&(this.selfAngle=Math.random()*Math.PI*2,this.lastCheckedTime=time))}draw(t=!1,e=1){if(this.lastTicksSinceLastDamaged=this.ticksSinceLastDamaged,this.ticksSinceLastDamaged+=dt,!0===this.dying){if(this.deadAnimationTimer+=dt,this.deadAnimationTimer>166)return this.dying=!1,void delete this.deadPosition}else if(!0===this.dead)return;if(ctx.translate(this.render.x,this.render.y),!0===this.dying){var a=1+.6*Math.cbrt(Math.log10(Math.max(1,this.deadAnimationTimer/16.6)));ctx.globalAlpha=Math.max(0,1-this.deadAnimationTimer/166),"Custom"===this.type&&(window.alphaMult=ctx.globalAlpha),ctx.scale(a,a)}else void 0!==this.scaleMult&&ctx.scale(this.scaleMult,this.scaleMult);if(ctx.rotate(this.selfAngle),this.isFrenzy=t,petalRenderMap[this.type]&&petalRenderMap[this.type](this),delete this.isFrenzy,ctx.rotate(-this.selfAngle),t){ctx.save();const t=.3+.8*e,a=255,i=Math.floor(150-100*e),l=Math.floor(100-100*e),c=.3+.2*e;ctx.beginPath(),ctx.arc(0,0,this.radius*t,0,2*Math.PI),ctx.fillStyle=`rgba(${a}, ${i}, ${l}, ${c})`,ctx.shadowColor="#FF3300",ctx.shadowBlur=20,ctx.fill(),ctx.restore()}!0===this.dying?(ctx.scale(1/a,1/a),ctx.globalAlpha=1):void 0!==this.scaleMult&&ctx.scale(1/this.scaleMult,1/this.scaleMult),ctx.translate(-this.render.x,-this.render.y),void 0!==window.alphaMult&&delete window.alphaMult}updateTimer(){!0===this.dying&&(this.deadAnimationTimer+=dt)}}function blendAmount(t){return Math.max(0,1-t.ticksSinceLastDamaged/166.5)}function checkForFirstFrame(t){return t.lastTicksSinceLastDamaged<13&&!damageFlash}const petalRenderMap={Basic:t=>{ctx.lineWidth=3,ctx.beginPath(),ctx.fillStyle=blendColor("#ffffff","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cfcfcf","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},Rubber:t=>{ctx.lineWidth=.22*t.radius,ctx.fillStyle=blendColor("#efefef","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#c1c1c1","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(-.25*t.radius,-1.05*t.radius),ctx.quadraticCurveTo(.5*t.radius,-.71*t.radius,1.05*t.radius,-.25*t.radius),ctx.quadraticCurveTo(.71*t.radius,.5*t.radius,.25*t.radius,1.05*t.radius),ctx.quadraticCurveTo(-.5*t.radius,.71*t.radius,-1.05*t.radius,.25*t.radius),ctx.quadraticCurveTo(-.71*t.radius,-.5*t.radius,-.25*t.radius,-1.05*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath()},Husk:t=>{ctx.lineWidth=3,ctx.beginPath(),ctx.strokeStyle=blendColor("#000000","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.stroke(),ctx.closePath()},Shade:t=>{if(ctx.fillStyle=blendColor("#111111","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),t.particles&&(Array.isArray(t.particles)||(t.particles=[])),t.particles||(t.particles=[]),t.particles.length<25)for(let e=0;e<25;e++)t.particles.push({distance:.25*Math.random()*dt/16.6,angle:2*Math.PI*Math.random(),rotationSpeed:Math.random()*Math.PI/16,size:1.25*Math.random()*.5});for(let e of t.particles)e.distance-=.05*dt/16.6,e.size+=.015*dt/16.6,e.angle+=e.rotationSpeed*dt/16.6,ctx.globalAlpha*=1-e.distance,ctx.beginPath(),ctx.arc(Math.cos(e.angle)*e.distance*t.radius*2,Math.sin(e.angle)*e.distance*t.radius*2,t.radius*e.size,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.globalAlpha/=1-e.distance,e.distance<0&&(e.distance=.5+.5*Math.random(),e.angle=2*Math.PI*Math.random(),e.rotationSpeed=Math.random()*Math.PI/16,e.size=.625*Math.random()*.5);ctx.globalAlpha=1},Radiance:t=>{if(ctx.fillStyle=blendColor("#eeeeee","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),t.particles&&(Array.isArray(t.particles)||(t.particles=[])),t.particles||(t.particles=[]),t.particles.length<25)for(let e=0;e<25;e++)t.particles.push({distance:.1*Math.random()*dt/16.6,angle:2*Math.PI*Math.random(),rotationSpeed:Math.random()*Math.PI/16,size:1.25*Math.random()*.5});for(let e of t.particles)e.distance+=.05*dt/16.6,e.size-=.01*dt/16.6,e.size=Math.max(.05,e.size),e.angle+=e.rotationSpeed*dt/16.6,ctx.globalAlpha*=1-e.distance,ctx.beginPath(),ctx.arc(Math.cos(e.angle)*e.distance*t.radius*2,Math.sin(e.angle)*e.distance*t.radius*2,t.radius*e.size,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.globalAlpha/=1-e.distance,e.distance>.7&&(e.distance=.1*Math.random()*dt/16.6,e.angle=2*Math.PI*Math.random(),e.rotationSpeed=Math.random()*Math.PI/16,e.size=1.25*Math.random()*.5);ctx.globalAlpha=1},Horn:t=>{ctx.lineWidth=.15*t.radius,ctx.beginPath();let e=blendColor("#af997e","#FF0000",blendAmount(t)),a=blendColor("#8f7d67","#FF0000",blendAmount(t)),i=blendColor("#bdab95","#FF0000",blendAmount(t)),l=blendColor("#706150","#FF0000",blendAmount(t));checkForFirstFrame(t)&&(e="#FFFFFF",a="#FFFFFF",i="#FFFFFF",l="#FFFFFF"),ctx.fillStyle=e,ctx.beginPath(),ctx.moveTo(1.16*t.radius,-.83*t.radius),ctx.lineTo(.54*t.radius,-.37*t.radius),ctx.lineTo(-.16*t.radius,-.23*t.radius),ctx.lineTo(-.86*t.radius,-.53*t.radius),ctx.lineTo(-1.38*t.radius,-.99*t.radius),ctx.lineTo(-1.23*t.radius,-.3*t.radius),ctx.lineTo(-.76*t.radius,.22*t.radius),ctx.lineTo(-.18*t.radius,.64*t.radius),ctx.lineTo(.52*t.radius,.72*t.radius),ctx.lineTo(1.28*t.radius,.37*t.radius),ctx.fill(),ctx.closePath(),ctx.strokeStyle=i,ctx.beginPath(),ctx.moveTo(-1.38*t.radius,-.99*t.radius),ctx.lineTo(-.91*t.radius,-.33*t.radius),ctx.stroke(),ctx.closePath(),ctx.lineWidth=.16*t.radius,ctx.beginPath(),ctx.moveTo(-.91*t.radius,-.33*t.radius),ctx.lineTo(-.27*t.radius,.03*t.radius),ctx.stroke(),ctx.closePath(),ctx.lineWidth=.18*t.radius,ctx.beginPath(),ctx.moveTo(-.27*t.radius,.03*t.radius),ctx.lineTo(.33*t.radius,-.03*t.radius),ctx.stroke(),ctx.closePath(),ctx.lineWidth=.2*t.radius,ctx.beginPath(),ctx.moveTo(.33*t.radius,-.03*t.radius),ctx.lineTo(t.radius,-.37*t.radius),ctx.stroke(),ctx.closePath(),ctx.lineWidth=.15*t.radius,ctx.strokeStyle=a,ctx.fillStyle=l,ctx.beginPath(),ctx.moveTo(1.16*t.radius,-.83*t.radius),ctx.quadraticCurveTo(.69*t.radius,-.15*t.radius,1.28*t.radius,.37*t.radius),ctx.quadraticCurveTo(1.67*t.radius,-.29*t.radius,1.16*t.radius,-.83*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(-.86*t.radius,-.53*t.radius),ctx.quadraticCurveTo(-1.01*t.radius,-.26*t.radius,-.76*t.radius,.22*t.radius),ctx.moveTo(-.16*t.radius,-.23*t.radius),ctx.quadraticCurveTo(-.53*t.radius,.15*t.radius,-.18*t.radius,.64*t.radius),ctx.moveTo(.54*t.radius,-.37*t.radius),ctx.quadraticCurveTo(.17*t.radius,.25*t.radius,.52*t.radius,.72*t.radius),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(1.16*t.radius,-.83*t.radius),ctx.lineTo(.54*t.radius,-.37*t.radius),ctx.lineTo(-.16*t.radius,-.23*t.radius),ctx.lineTo(-.86*t.radius,-.53*t.radius),ctx.lineTo(-1.38*t.radius,-.99*t.radius),ctx.lineTo(-1.23*t.radius,-.3*t.radius),ctx.lineTo(-.76*t.radius,.22*t.radius),ctx.lineTo(-.18*t.radius,.64*t.radius),ctx.lineTo(.52*t.radius,.72*t.radius),ctx.lineTo(1.28*t.radius,.37*t.radius),ctx.stroke(),ctx.closePath()},"Blood Horn":t=>{ctx.lineWidth=.15*t.radius,ctx.beginPath();let e=blendColor("#af7e7eff","#FF0000",blendAmount(t)),a=blendColor("#8f6767ff","#FF0000",blendAmount(t)),i=blendColor("#bd9595ff","#FF0000",blendAmount(t)),l=blendColor("#705050ff","#FF0000",blendAmount(t));checkForFirstFrame(t)&&(e="#FFFFFF",a="#FFFFFF",i="#FFFFFF",l="#FFFFFF"),ctx.fillStyle=e,ctx.beginPath(),ctx.moveTo(1.16*t.radius,-.83*t.radius),ctx.lineTo(.54*t.radius,-.37*t.radius),ctx.lineTo(-.16*t.radius,-.23*t.radius),ctx.lineTo(-.86*t.radius,-.53*t.radius),ctx.lineTo(-1.38*t.radius,-.99*t.radius),ctx.lineTo(-1.23*t.radius,-.3*t.radius),ctx.lineTo(-.76*t.radius,.22*t.radius),ctx.lineTo(-.18*t.radius,.64*t.radius),ctx.lineTo(.52*t.radius,.72*t.radius),ctx.lineTo(1.28*t.radius,.37*t.radius),ctx.fill(),ctx.closePath(),ctx.strokeStyle=i,ctx.beginPath(),ctx.moveTo(-1.38*t.radius,-.99*t.radius),ctx.lineTo(-.91*t.radius,-.33*t.radius),ctx.stroke(),ctx.closePath(),ctx.lineWidth=.16*t.radius,ctx.beginPath(),ctx.moveTo(-.91*t.radius,-.33*t.radius),ctx.lineTo(-.27*t.radius,.03*t.radius),ctx.stroke(),ctx.closePath(),ctx.lineWidth=.18*t.radius,ctx.beginPath(),ctx.moveTo(-.27*t.radius,.03*t.radius),ctx.lineTo(.33*t.radius,-.03*t.radius),ctx.stroke(),ctx.closePath(),ctx.lineWidth=.2*t.radius,ctx.beginPath(),ctx.moveTo(.33*t.radius,-.03*t.radius),ctx.lineTo(t.radius,-.37*t.radius),ctx.stroke(),ctx.closePath(),ctx.lineWidth=.15*t.radius,ctx.strokeStyle=a,ctx.fillStyle=l,ctx.beginPath(),ctx.moveTo(1.16*t.radius,-.83*t.radius),ctx.quadraticCurveTo(.69*t.radius,-.15*t.radius,1.28*t.radius,.37*t.radius),ctx.quadraticCurveTo(1.67*t.radius,-.29*t.radius,1.16*t.radius,-.83*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(-.86*t.radius,-.53*t.radius),ctx.quadraticCurveTo(-1.01*t.radius,-.26*t.radius,-.76*t.radius,.22*t.radius),ctx.moveTo(-.16*t.radius,-.23*t.radius),ctx.quadraticCurveTo(-.53*t.radius,.15*t.radius,-.18*t.radius,.64*t.radius),ctx.moveTo(.54*t.radius,-.37*t.radius),ctx.quadraticCurveTo(.17*t.radius,.25*t.radius,.52*t.radius,.72*t.radius),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(1.16*t.radius,-.83*t.radius),ctx.lineTo(.54*t.radius,-.37*t.radius),ctx.lineTo(-.16*t.radius,-.23*t.radius),ctx.lineTo(-.86*t.radius,-.53*t.radius),ctx.lineTo(-1.38*t.radius,-.99*t.radius),ctx.lineTo(-1.23*t.radius,-.3*t.radius),ctx.lineTo(-.76*t.radius,.22*t.radius),ctx.lineTo(-.18*t.radius,.64*t.radius),ctx.lineTo(.52*t.radius,.72*t.radius),ctx.lineTo(1.28*t.radius,.37*t.radius),ctx.stroke(),ctx.closePath()},"Abyssal Artifact":t=>{t.artifactAnim||(t.artifactAnim=Math.random()*Math.PI*2);const e=t.radius||10,a=blendColor("#1a0a8a","#FF0000",blendAmount(t)),i=blendColor("rgba(44, 27, 209, 0.3)","rgba(255, 0, 0, 0.3)",blendAmount(t)),l=blendColor("#4a3fff","#FF0000",blendAmount(t));if(checkForFirstFrame(t))ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF";else{const t=ctx.createRadialGradient(0,0,0,0,0,1.3*e);t.addColorStop(0,l),t.addColorStop(.5,a),t.addColorStop(1,"rgba(26, 10, 138, 0)"),ctx.save(),ctx.globalAlpha=.6,ctx.fillStyle=t,ctx.beginPath(),ctx.arc(0,0,1.2*e,0,2*Math.PI),ctx.fill(),ctx.restore()}const c=t.artifactAnim+.002*time;ctx.save(),ctx.rotate(c),ctx.strokeStyle=i,ctx.lineWidth=2;for(let t=0;t<3;t++)ctx.beginPath(),ctx.arc(0,0,.7*e,t*Math.PI*2/3-.3,t*Math.PI*2/3+.3),ctx.stroke();ctx.restore(),ctx.beginPath(),ctx.arc(0,0,.5*e,0,2*Math.PI),ctx.fillStyle=l,ctx.fill(),ctx.save(),ctx.rotate(1.5*-c),ctx.fillStyle="rgba(100, 150, 255, 0.5)",ctx.beginPath();for(let t=0;t<5;t++){const a=t*Math.PI*2/5-Math.PI/2,i=Math.cos(a)*e*.25,l=Math.sin(a)*e*.25;0===t?ctx.moveTo(i,l):ctx.lineTo(i,l)}ctx.closePath(),ctx.fill(),ctx.restore(),ctx.strokeStyle=a,ctx.lineWidth=3,ctx.beginPath(),ctx.arc(0,0,e,0,2*Math.PI),ctx.stroke(),ctx.closePath()},"Scorched Artifact":t=>{t.artifactAnim||(t.artifactAnim=Math.random()*Math.PI*2);const e=t.radius||10,a=blendColor("#8a1a0a","#FF0000",blendAmount(t)),i=blendColor("#ff6a2a","#FF0000",blendAmount(t)),l=blendColor("#ffa500","#FF0000",blendAmount(t));if(checkForFirstFrame(t))ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF";else{t.emberParticles||(t.emberParticles=[]),t.emberParticles&&(Array.isArray(t.emberParticles)||(t.emberParticles=[])),t.emberParticles||(t.emberParticles=[]),t.emberParticles.length<8&&t.emberParticles.push({angle:Math.random()*Math.PI*2,distance:.2+.3*Math.random(),size:2+3*Math.random(),speed:.01+.02*Math.random()});for(let a=t.emberParticles.length-1;a>=0;a--){const i=t.emberParticles[a];i.angle+=i.speed,ctx.globalAlpha=.8,ctx.fillStyle=l,ctx.beginPath(),ctx.arc(Math.cos(i.angle)*e*i.distance,Math.sin(i.angle)*e*i.distance,i.size,0,2*Math.PI),ctx.fill(),ctx.globalAlpha=1,Math.random()<.02&&t.emberParticles.splice(a,1)}}const c=ctx.createRadialGradient(0,0,0,0,0,1.3*e);c.addColorStop(0,i),c.addColorStop(.6,a),c.addColorStop(1,"rgba(138, 26, 10, 0)"),ctx.save(),ctx.globalAlpha=.5,ctx.fillStyle=c,ctx.beginPath(),ctx.arc(0,0,1.2*e,0,2*Math.PI),ctx.fill(),ctx.restore();const r=t.artifactAnim+.003*time;ctx.save(),ctx.rotate(r),ctx.strokeStyle=l,ctx.lineWidth=2.5,ctx.setLineDash([8,4]),ctx.beginPath(),ctx.arc(0,0,.75*e,0,2*Math.PI),ctx.stroke(),ctx.restore();const o=1+.1*Math.sin(.005*time+t.artifactAnim);ctx.beginPath(),ctx.arc(0,0,.45*e*o,0,2*Math.PI),ctx.fillStyle=i,ctx.fill(),ctx.save(),ctx.rotate(2*-r),ctx.strokeStyle="rgba(255, 200, 100, 0.6)",ctx.lineWidth=1.5;for(let t=0;t<4;t++){const a=t*Math.PI*2/4;ctx.beginPath(),ctx.moveTo(0,0),ctx.lineTo(Math.cos(a)*e*.35,Math.sin(a)*e*.35),ctx.stroke()}ctx.restore(),ctx.strokeStyle=a,ctx.lineWidth=3,ctx.setLineDash([]),ctx.beginPath(),ctx.arc(0,0,e,0,2*Math.PI),ctx.stroke(),ctx.closePath()},"Verdant Artifact":t=>{t.artifactAnim||(t.artifactAnim=Math.random()*Math.PI*2);const e=t.radius||10,a=blendColor("#0a8a2a","#FF0000",blendAmount(t)),i=blendColor("#3aff6a","#FF0000",blendAmount(t)),l=blendColor("#50ff88","#FF0000",blendAmount(t));if(checkForFirstFrame(t))ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF";else{const t=ctx.createRadialGradient(0,0,0,0,0,1.3*e);t.addColorStop(0,i),t.addColorStop(.5,a),t.addColorStop(1,"rgba(10, 138, 42, 0)"),ctx.save(),ctx.globalAlpha=.5,ctx.fillStyle=t,ctx.beginPath(),ctx.arc(0,0,1.2*e,0,2*Math.PI),ctx.fill(),ctx.restore()}const c=t.artifactAnim+.001*time;ctx.save(),ctx.rotate(c),ctx.fillStyle=l;for(let t=0;t<6;t++){const a=t*Math.PI*2/6,i=Math.cos(a)*e*.65,l=Math.sin(a)*e*.65;ctx.save(),ctx.translate(i,l),ctx.rotate(a+Math.PI/2),ctx.beginPath(),ctx.ellipse(0,0,.15*e,.25*e,0,0,2*Math.PI),ctx.fill(),ctx.restore()}ctx.restore(),ctx.save(),ctx.rotate(.5*-c),ctx.strokeStyle=l,ctx.lineWidth=2,ctx.setLineDash([12,6]),ctx.beginPath(),ctx.arc(0,0,.8*e,0,2*Math.PI),ctx.stroke(),ctx.restore(),ctx.beginPath(),ctx.arc(0,0,.45*e,0,2*Math.PI),ctx.fillStyle=i,ctx.fill(),ctx.save(),ctx.rotate(c),ctx.strokeStyle="rgba(100, 255, 150, 0.5)",ctx.lineWidth=1,ctx.beginPath();for(let t=0;t<20;t++){const a=t/20,i=a*Math.PI*4,l=a*e*.35,c=Math.cos(i)*l,r=Math.sin(i)*l;0===t?ctx.moveTo(c,r):ctx.lineTo(c,r)}ctx.stroke(),ctx.restore(),ctx.strokeStyle=a,ctx.lineWidth=3,ctx.setLineDash([]),ctx.beginPath(),ctx.arc(0,0,e,0,2*Math.PI),ctx.stroke(),ctx.closePath()},"Cosmic Artifact":t=>{t.artifactAnim||(t.artifactAnim=Math.random()*Math.PI*2);const e=t.radius||10,a=blendColor("#2a0a6a","#FF0000",blendAmount(t)),i=blendColor("#9d4fff","#FF0000",blendAmount(t)),l=blendColor("#ff4fff","#FF0000",blendAmount(t)),c=blendColor("#4fffff","#FF0000",blendAmount(t));if(checkForFirstFrame(t))ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF";else{const r=ctx.createRadialGradient(0,0,0,0,0,1.4*e);r.addColorStop(0,i),r.addColorStop(.2,l),r.addColorStop(.5,a),r.addColorStop(.7,c),r.addColorStop(1,"rgba(20, 0, 60, 0)"),ctx.save(),ctx.globalAlpha=.4,ctx.fillStyle=r,ctx.beginPath(),ctx.arc(0,0,1.3*e,0,2*Math.PI),ctx.fill(),ctx.restore(),t.starParticles||(t.starParticles=[]),t.starParticles&&(Array.isArray(t.starParticles)||(t.starParticles=[])),t.starParticles||(t.starParticles=[]),t.starParticles.length<12&&t.starParticles.push({angle:Math.random()*Math.PI*2,distance:.3+.5*Math.random(),size:1+2*Math.random(),speed:.002+.004*Math.random(),twinkle:Math.random()*Math.PI*2,color:Math.random()>.5?"#ffffff":Math.random()>.5?"#ffccff":"#ccffff"});for(let a=t.starParticles.length-1;a>=0;a--){const i=t.starParticles[a];i.angle+=i.speed,i.twinkle+=.1;const l=.5+.5*Math.sin(i.twinkle);if(ctx.globalAlpha=l,ctx.fillStyle=i.color,ctx.beginPath(),ctx.arc(Math.cos(i.angle)*e*i.distance,Math.sin(i.angle)*e*i.distance,i.size,0,2*Math.PI),ctx.fill(),ctx.globalAlpha=1,i.size>2){ctx.strokeStyle=i.color,ctx.lineWidth=.5;const t=Math.cos(i.angle)*e*i.distance,a=Math.sin(i.angle)*e*i.distance;ctx.beginPath(),ctx.moveTo(t-2*i.size,a),ctx.lineTo(t+2*i.size,a),ctx.moveTo(t,a-2*i.size),ctx.lineTo(t,a+2*i.size),ctx.stroke()}}t.cometParticles||(t.cometParticles=[]),t.cometParticles&&(Array.isArray(t.cometParticles)||(t.cometParticles=[])),t.cometParticles||(t.cometParticles=[]),t.cometParticles.length<2&&Math.random()<.01&&t.cometParticles.push({angle:Math.random()*Math.PI*2,distance:1.2,speed:.03+.02*Math.random(),size:2+2*Math.random(),trail:[]});for(let a=t.cometParticles.length-1;a>=0;a--){const i=t.cometParticles[a];if(i.distance-=i.speed,i.distance<.2){t.cometParticles.splice(a,1);continue}const l=Math.cos(i.angle)*e*i.distance,c=Math.sin(i.angle)*e*i.distance;if(i.trail.push({x:l,y:c}),i.trail.length>15&&i.trail.shift(),i.trail.length>2){ctx.beginPath(),ctx.moveTo(i.trail[0].x,i.trail[0].y);for(let t=1;t<i.trail.length;t++)ctx.lineTo(i.trail[t].x,i.trail[t].y);const t=ctx.createLinearGradient(i.trail[0].x,i.trail[0].y,l,c);t.addColorStop(0,"rgba(255, 255, 255, 0)"),t.addColorStop(1,"rgba(255, 200, 255, 0.8)"),ctx.strokeStyle=t,ctx.lineWidth=.5*i.size,ctx.stroke()}ctx.fillStyle="#ffffff",ctx.beginPath(),ctx.arc(l,c,i.size,0,2*Math.PI),ctx.fill()}}const r=t.artifactAnim+8e-4*time;ctx.save(),ctx.rotate(r);for(let t=0;t<2;t++){ctx.save(),ctx.rotate(t*Math.PI);const a=ctx.createRadialGradient(0,0,0,0,0,.8*e);0===t?(a.addColorStop(0,l),a.addColorStop(1,"rgba(255, 79, 255, 0)")):(a.addColorStop(0,c),a.addColorStop(1,"rgba(79, 255, 255, 0)")),ctx.strokeStyle=a,ctx.lineWidth=4,ctx.lineCap="round",ctx.beginPath();for(let t=0;t<50;t++){const a=t/50,i=a*Math.PI*3,l=a*e*.7,c=Math.cos(i)*l,r=Math.sin(i)*l;0===t?ctx.moveTo(c,r):ctx.lineTo(c,r)}ctx.stroke(),ctx.restore()}ctx.restore();const o=t.artifactAnim+.002*time;ctx.save(),ctx.rotate(o),ctx.lineWidth=2;const s=["rgba(255, 100, 100, 0.6)","rgba(255, 150, 50, 0.6)","rgba(255, 255, 100, 0.6)","rgba(100, 255, 100, 0.6)","rgba(100, 200, 255, 0.6)","rgba(150, 100, 255, 0.6)"];for(let t=0;t<3;t++)ctx.strokeStyle=s[(t+Math.floor(.01*time))%s.length],ctx.beginPath(),ctx.arc(0,0,e*(.55+.1*t),0,2*Math.PI),ctx.stroke();ctx.restore();const d=1+.15*Math.sin(.003*time+t.artifactAnim);ctx.beginPath(),ctx.arc(0,0,.35*e*d,0,2*Math.PI);const x=ctx.createRadialGradient(0,0,0,0,0,.35*e);x.addColorStop(0,"#ffffff"),x.addColorStop(.3,i),x.addColorStop(1,l),ctx.fillStyle=x,ctx.fill(),ctx.save(),ctx.rotate(2*-r),ctx.fillStyle="rgba(255, 255, 255, 0.8)";for(let t=0;t<8;t++){const a=t*Math.PI*2/8-Math.PI/2,i=.2*e,l=Math.cos(a)*i,c=Math.sin(a)*i,r=.3+.7*Math.sin(.01*time+t);ctx.globalAlpha=r,ctx.beginPath(),ctx.arc(l,c,1.5,0,2*Math.PI),ctx.fill()}ctx.restore(),ctx.strokeStyle=a,ctx.lineWidth=3,ctx.setLineDash([]),ctx.beginPath(),ctx.arc(0,0,e,0,2*Math.PI),ctx.stroke(),ctx.save(),ctx.strokeStyle=c,ctx.lineWidth=1.5,ctx.globalAlpha=.5+.3*Math.sin(.005*time),ctx.beginPath(),ctx.arc(0,0,e+2,0,2*Math.PI),ctx.stroke(),ctx.restore(),ctx.globalAlpha=1,ctx.closePath()},Clover:t=>{ctx.lineWidth=.15*t.radius,ctx.fillStyle=blendColor("#39b54a","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#2e933c","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF");let e=3;t.rarity>=12&&(e=t.rarity-8),ctx.save(),ctx.rotate(30*Math.PI/360);for(let a=0;a<e;a++)ctx.moveTo(0,0),ctx.beginPath(),ctx.bezierCurveTo(0,0,-.5*t.radius,-.5*t.radius,-.3*t.radius,-.8*t.radius),ctx.quadraticCurveTo(0,-1.15*t.radius,.3*t.radius,-.8*t.radius),ctx.bezierCurveTo(.5*t.radius,-.5*t.radius,0,0,0,0),ctx.closePath(),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.rotate(2*Math.PI/e);ctx.restore()},"Dark Spine":t=>{ctx.strokeStyle=blendColor("#3a1f1f","#1a0f0f",blendAmount(t)),checkForFirstFrame(t)&&(ctx.strokeStyle="#ffffff"),ctx.lineWidth=.4*t.radius,ctx.beginPath(),ctx.moveTo(0,1.2*t.radius),ctx.quadraticCurveTo(.05*t.radius,0,0,-1.2*t.radius),ctx.stroke(),ctx.closePath(),ctx.strokeStyle=blendColor("#5a2d2d","#2b1a1a",blendAmount(t)),checkForFirstFrame(t)&&(ctx.strokeStyle="#AAAAAA"),ctx.lineWidth=.18*t.radius,ctx.beginPath(),ctx.moveTo(0,.6*t.radius),ctx.quadraticCurveTo(-.3*t.radius,.4*t.radius,-.5*t.radius,.2*t.radius),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(0,.6*t.radius),ctx.quadraticCurveTo(.3*t.radius,.4*t.radius,.5*t.radius,.2*t.radius),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(0,-.2*t.radius),ctx.quadraticCurveTo(-.3*t.radius,-.4*t.radius,-.5*t.radius,-.6*t.radius),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(0,-.2*t.radius),ctx.quadraticCurveTo(.3*t.radius,-.4*t.radius,.5*t.radius,-.6*t.radius),ctx.stroke(),ctx.closePath()},Cutter:t=>{ctx.lineWidth=3,ctx.fillStyle=blendColor("#000000","#FF0000",blendAmount(t)),ctx.save(),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.rect(2*t.radius,2*-t.radius,4*-t.radius,4*t.radius),ctx.closePath(),ctx.clip(),ctx.rotate(Math.PI*time/650),ctx.beginPath();for(let e=0;e<9;e++)ctx.rotate(e*Math.PI*2/8),ctx.quadraticCurveTo(.39*t.radius,-.9*t.radius,1*t.radius,-1*t.radius),ctx.rotate(-e*Math.PI*2/8);ctx.fill(),ctx.rotate(-Math.PI*time/650),ctx.restore()},Coral:t=>{ctx.strokeStyle=blendColor("#b04646","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=.35*t.radius,ctx.beginPath(),ctx.moveTo(0,1.17*t.radius),ctx.quadraticCurveTo(0,.85*t.radius,.6*t.radius,.35*t.radius),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(0*t.radius,1.17*t.radius),ctx.quadraticCurveTo(.15*t.radius,.26*t.radius,-.69*t.radius,-.2*t.radius),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(0*t.radius,1.17*t.radius),ctx.quadraticCurveTo(-.05*t.radius,-.3*t.radius,.56*t.radius,-.75*t.radius),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(0*t.radius,1.17*t.radius),ctx.quadraticCurveTo(.1*t.radius,-.3*t.radius,-.08*t.radius,-1.13*t.radius),ctx.stroke(),ctx.closePath(),ctx.strokeStyle=blendColor("#f76767","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=.2*t.radius,ctx.beginPath(),ctx.moveTo(0,1.17*t.radius),ctx.quadraticCurveTo(0,.85*t.radius,.6*t.radius,.35*t.radius),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(0*t.radius,1.17*t.radius),ctx.quadraticCurveTo(.15*t.radius,.26*t.radius,-.69*t.radius,-.2*t.radius),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(0*t.radius,1.17*t.radius),ctx.quadraticCurveTo(-.05*t.radius,-.3*t.radius,.56*t.radius,-.75*t.radius),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(0*t.radius,1.17*t.radius),ctx.quadraticCurveTo(.1*t.radius,-.3*t.radius,-.08*t.radius,-1.13*t.radius),ctx.stroke(),ctx.closePath()},Bubble:t=>{ctx.lineWidth=t.radius/5,ctx.fillStyle=blendColor("#ffffff","#FF0000",Math.max(0,blendAmount(t))),ctx.strokeStyle=blendColor("#ffffff","#FF0000",Math.max(0,blendAmount(t))),checkForFirstFrame(t)&&(ctx.fillStyle="#ffffff",ctx.strokeStyle="#ffffff"),ctx.globalAlpha*=.6,ctx.beginPath(),ctx.arc(0,0,9*t.radius/10,0,2*Math.PI),ctx.stroke(),ctx.closePath(),ctx.globalAlpha*=.6,ctx.beginPath(),ctx.arc(0,0,8*t.radius/10,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(.45*-t.radius,0,1*t.radius/4,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.globalAlpha*=2.777777777},"Shiny Bubble":t=>{if(ctx.lineWidth=t.radius/5,ctx.fillStyle=blendColor("#eeeeee","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),t.particles&&(Array.isArray(t.particles)||(t.particles=[])),t.particles||(t.particles=[]),t.particles.length<10&&t.particles.length<10)for(let e=0;e<10;e++)t.particles.push({distance:.325*Math.random(),angle:2*Math.PI*Math.random(),rotationSpeed:Math.random()*Math.PI/16,size:.75*Math.random()*.5});for(let e of t.particles)e.distance+=.01*dt/16.6,e.size-=.01*dt/16.6,e.size=Math.max(.05,e.size),e.angle+=e.rotationSpeed*dt/16.6,ctx.globalAlpha*=.75*(1-e.distance),ctx.beginPath(),ctx.arc(Math.cos(e.angle)*e.distance*t.radius*2,Math.sin(e.angle)*e.distance*t.radius*2,t.radius*e.size,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.globalAlpha/=.75*(1-e.distance),e.distance>.3&&(e.distance=.1*Math.random()*dt/16.6,e.angle=2*Math.PI*Math.random(),e.rotationSpeed=Math.random()*Math.PI/16,e.size=.75*Math.random()*.5);ctx.fillStyle=blendColor("#fdff84","#FF0000",Math.max(0,blendAmount(t))),ctx.strokeStyle=blendColor("#fdff84","#FF0000",Math.max(0,blendAmount(t))),checkForFirstFrame(t)&&(ctx.fillStyle="#ffffff",ctx.strokeStyle="#ffffff");let e=ctx.globalAlpha;ctx.globalAlpha*=.6+(Math.cos(Date.now()/50)+1)/10,ctx.beginPath(),ctx.arc(0,0,9*t.radius/10,0,2*Math.PI),ctx.stroke(),ctx.closePath(),ctx.globalAlpha*=.6,ctx.beginPath(),ctx.arc(0,0,8*t.radius/10,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(.45*-t.radius,0,1*t.radius/4,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.globalAlpha=e},Air:()=>{},Starfish:t=>{ctx.lineWidth=.14*t.radius,ctx.strokeStyle=blendColor("#a9403e","#FF0000",blendAmount(t)),ctx.fillStyle=blendColor("#d14f4d","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.lineTo(-.84*t.radius,.65*t.radius),ctx.quadraticCurveTo(-.99*t.radius,.52*t.radius,-.87*t.radius,.37*t.radius),ctx.quadraticCurveTo(.23*t.radius,-1.25*t.radius,.57*t.radius,-.99*t.radius),ctx.quadraticCurveTo(.98*t.radius,-.78*t.radius,-.07*t.radius,.93*t.radius),ctx.quadraticCurveTo(-.18*t.radius,1.03*t.radius,-.31*t.radius,.98*t.radius),ctx.lineTo(-.84*t.radius,.65*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor("#d4766c","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(-.18*t.radius,.21*t.radius,.22*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(.09*t.radius,-.23*t.radius,.165*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(.31*t.radius,-.57*t.radius,.11*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath()},Brisingida:t=>{ctx.lineWidth=.14*t.radius,ctx.strokeStyle=blendColor("#3e87a9ff","#FF0000",blendAmount(t)),ctx.fillStyle=blendColor("#4db2d1ff","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.lineTo(-.84*t.radius,.65*t.radius),ctx.quadraticCurveTo(-.99*t.radius,.52*t.radius,-.87*t.radius,.37*t.radius),ctx.quadraticCurveTo(.23*t.radius,-1.25*t.radius,.57*t.radius,-.99*t.radius),ctx.quadraticCurveTo(.98*t.radius,-.78*t.radius,-.07*t.radius,.93*t.radius),ctx.quadraticCurveTo(-.18*t.radius,1.03*t.radius,-.31*t.radius,.98*t.radius),ctx.lineTo(-.84*t.radius,.65*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor("#9c6cd4ff","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(-.18*t.radius,.21*t.radius,.22*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(.09*t.radius,-.23*t.radius,.165*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(.31*t.radius,-.57*t.radius,.11*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath()},Compass:t=>{ctx.lineWidth=2.4,ctx.beginPath(),ctx.fillStyle=blendColor("#3498db","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#bfbfbf","#FF0000",blendAmount(t));let e=blendColor("#e74c3c","#FF0000",blendAmount(t)),a=blendColor("#ecf0f1","#FF0000",blendAmount(t)),i=ctx.strokeStyle;if(t.glow>=0){ctx.save();let a=Colors.rarities[t.glow].color,l=0;t.glow>=8&&(l+=.5),t.glow>=11&&(l+=.5),11==t.glow&&(a="#db68f7"),ctx.fillStyle=a,ctx.globalAlpha=.7,ctx.arc(0,0,t.radius*(2+l+.3*Math.cos(Date.now()/500)),0,2*Math.PI),ctx.fill(),ctx.globalAlpha=1,ctx.restore(),e=blendColor(a,"#FF0000",blendAmount(t)),i=blendColor(Colors.rarities[t.glow].border,"#FF0000",blendAmount(t))}checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF",e="#FFFFFF",a="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=e,ctx.beginPath(),ctx.lineTo(0,.4*-t.radius),ctx.lineTo(t.radius,0),ctx.lineTo(0,.4*t.radius),ctx.fill(),ctx.closePath(),ctx.fillStyle=a,ctx.beginPath(),ctx.lineTo(0,.4*-t.radius),ctx.lineTo(-t.radius,0),ctx.lineTo(0,.4*t.radius),ctx.fill(),ctx.closePath(),ctx.fillStyle=i,ctx.beginPath(),ctx.arc(0,0,t.radius/4,0,2*Math.PI),ctx.fill(),ctx.closePath()},"Waterlogged Compass":t=>{ctx.lineWidth=2.4,ctx.beginPath(),ctx.fillStyle=blendColor("#70a7cf","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#bfbfbf","#FF0000",blendAmount(t));let e=blendColor("#3c3fe7","#FF0000",blendAmount(t)),a=blendColor("#ecf0f1","#FF0000",blendAmount(t)),i=ctx.strokeStyle;if(t.glow>0){ctx.save();let a=`hsl(${Date.now()/15%360}, 50%, 50%)`,l=0;ctx.fillStyle=a,ctx.globalAlpha=.7,ctx.arc(0,0,t.radius*(2+l+.3*Math.cos(Date.now()/500)),0,2*Math.PI),ctx.fill(),ctx.globalAlpha=1,ctx.restore(),e=blendColor(a,"#FF0000",blendAmount(t)),i=blendColor(Colors.rarities[t.glow].border,"#FF0000",blendAmount(t))}checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF",e="#FFFFFF",a="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=e,ctx.beginPath(),ctx.lineTo(0,.4*-t.radius),ctx.lineTo(t.radius,0),ctx.lineTo(0,.4*t.radius),ctx.fill(),ctx.closePath(),ctx.fillStyle=a,ctx.beginPath(),ctx.lineTo(0,.4*-t.radius),ctx.lineTo(-t.radius,0),ctx.lineTo(0,.4*t.radius),ctx.fill(),ctx.closePath(),ctx.fillStyle=i,ctx.beginPath(),ctx.arc(0,0,t.radius/4,0,2*Math.PI),ctx.fill(),ctx.closePath()},"Waterlogged Dark Compass":t=>{ctx.lineWidth=2.4,ctx.beginPath(),ctx.fillStyle=blendColor("#8f5830","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#404040","#FF0000",blendAmount(t));let e=blendColor("#c3c018","#FF0000",blendAmount(t)),a=blendColor("#130f0e","#FF0000",blendAmount(t)),i=ctx.strokeStyle;if(t.glow>0){ctx.save();let a=`hsl(${Date.now()/15%360}, 50%, 50%)`,l=0;ctx.fillStyle=a,ctx.globalAlpha=.7,ctx.arc(0,0,t.radius*(2+l+.3*Math.cos(Date.now()/500)),0,2*Math.PI),ctx.fill(),ctx.globalAlpha=1,ctx.restore(),e=blendColor(a,"#FF0000",blendAmount(t)),i=blendColor(Colors.rarities[t.glow].border,"#FF0000",blendAmount(t))}checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF",e="#FFFFFF",a="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=e,ctx.beginPath(),ctx.lineTo(0,.4*-t.radius),ctx.lineTo(t.radius,0),ctx.lineTo(0,.4*t.radius),ctx.fill(),ctx.closePath(),ctx.fillStyle=a,ctx.beginPath(),ctx.lineTo(0,.4*-t.radius),ctx.lineTo(-t.radius,0),ctx.lineTo(0,.4*t.radius),ctx.fill(),ctx.closePath(),ctx.fillStyle=i,ctx.beginPath(),ctx.arc(0,0,t.radius/4,0,2*Math.PI),ctx.fill(),ctx.closePath()},"Dark Compass":t=>{ctx.lineWidth=2.4,ctx.beginPath(),ctx.fillStyle=blendColor("#cb6724","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#404040","#FF0000",blendAmount(t));let e=blendColor("#18b3c3","#FF0000",blendAmount(t)),a=blendColor("#130f0e","#FF0000",blendAmount(t)),i=ctx.strokeStyle;if(t.glow>=0){ctx.save();let a=Colors.rarities[t.glow].color,l=0;t.glow>=8&&(l+=.5),t.glow>=11&&(l+=.5),11==t.glow&&(a="#db68f7"),ctx.fillStyle=a,ctx.globalAlpha=.7,ctx.arc(0,0,t.radius*(2+l+.3*Math.cos(Date.now()/500)),0,2*Math.PI),ctx.fill(),ctx.globalAlpha=1,ctx.restore(),e=blendColor(a,"#FF0000",blendAmount(t)),i=blendColor(Colors.rarities[t.glow].border,"#FF0000",blendAmount(t))}checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF",e="#FFFFFF",a="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=e,ctx.beginPath(),ctx.lineTo(0,.4*-t.radius),ctx.lineTo(t.radius,0),ctx.lineTo(0,.4*t.radius),ctx.fill(),ctx.closePath(),ctx.fillStyle=a,ctx.beginPath(),ctx.lineTo(0,.4*-t.radius),ctx.lineTo(-t.radius,0),ctx.lineTo(0,.4*t.radius),ctx.fill(),ctx.closePath(),ctx.fillStyle=i,ctx.beginPath(),ctx.arc(0,0,t.radius/4,0,2*Math.PI),ctx.fill(),ctx.closePath()},Claw:t=>{ctx.strokeStyle=blendColor("#3e1f1b","#FF0000",blendAmount(t)),ctx.fillStyle=blendColor("#4d2621","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=.3*t.radius,ctx.beginPath(),ctx.lineTo(-1.045*t.radius,.175*t.radius),ctx.quadraticCurveTo(-.9*t.radius,-.14*t.radius,-.985*t.radius,-.41*t.radius),ctx.quadraticCurveTo(.68*t.radius,-1.14*t.radius,1.27*t.radius,.55*t.radius),ctx.lineTo(.59*t.radius,.05*t.radius),ctx.lineTo(.8*t.radius,.8*t.radius),ctx.quadraticCurveTo(-.2*t.radius,-.2*t.radius,-1.045*t.radius,.175*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath()},Lightning:t=>{ctx.strokeStyle=blendColor("#21c4b9","#FF0000",blendAmount(t)),ctx.fillStyle=blendColor("#29f2e5","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#ffffff",ctx.strokeStyle="#ffffff"),ctx.lineWidth=.2*t.radius,ctx.beginPath();for(let e=0;e<10;e++){let a=e*Math.PI/5;ctx.lineTo(Math.cos(a)*t.radius*.7,Math.sin(a)*t.radius*.7),ctx.lineTo(Math.cos(a+Math.PI/10)*t.radius*1.4,Math.sin(a+Math.PI/10)*t.radius*1.4)}ctx.lineTo(.7*t.radius,0),ctx.fill(),ctx.stroke()},"Shiny Lightning":t=>{ctx.strokeStyle=blendColor("#b2b43b","#FF0000",blendAmount(t)),ctx.fillStyle=blendColor("#dcdf4a","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#ffffff",ctx.strokeStyle="#ffffff"),ctx.lineWidth=.2*t.radius,ctx.beginPath();for(let e=0;e<10;e++){let a=e*Math.PI/5;ctx.lineTo(Math.cos(a)*t.radius*.7,Math.sin(a)*t.radius*.7),ctx.lineTo(Math.cos(a+Math.PI/10)*t.radius*1.4,Math.sin(a+Math.PI/10)*t.radius*1.4)}ctx.lineTo(.7*t.radius,0),ctx.fill(),ctx.stroke()},"Blood Jolt":t=>{ctx.strokeStyle=blendColor("#8a2525ff","#FF0000",blendAmount(t)),ctx.fillStyle=blendColor("#a82d2dff","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#ffffff",ctx.strokeStyle="#ffffff"),ctx.lineWidth=.2*t.radius,ctx.beginPath();for(let e=0;e<8;e++){let a=e*Math.PI/4;ctx.lineTo(Math.cos(a)*t.radius*.7,Math.sin(a)*t.radius*.7),ctx.lineTo(Math.cos(a+Math.PI/10)*t.radius*1.4,Math.sin(a+Math.PI/10)*t.radius*1.4)}ctx.lineTo(.7*t.radius,0),ctx.fill(),ctx.stroke()},Jolt:t=>{ctx.strokeStyle=blendColor("#00cc84","#FF0000",blendAmount(t)),ctx.fillStyle=blendColor("#00fca4","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#ffffff",ctx.strokeStyle="#ffffff"),ctx.lineWidth=.2*t.radius,ctx.beginPath();for(let e=0;e<8;e++){let a=e*Math.PI/4;ctx.lineTo(Math.cos(a)*t.radius*.7,Math.sin(a)*t.radius*.7),ctx.lineTo(Math.cos(a+Math.PI/10)*t.radius*1.4,Math.sin(a+Math.PI/10)*t.radius*1.4)}ctx.lineTo(.7*t.radius,0),ctx.fill(),ctx.stroke()},Fangs:t=>{ctx.strokeStyle=blendColor("#7e0d0d","#FF0000",blendAmount(t)),ctx.fillStyle=blendColor("#9c1010","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#ffffff",ctx.strokeStyle="#ffffff"),ctx.lineWidth=.22*t.radius,ctx.beginPath(),ctx.moveTo(.52*-t.radius,.815*-t.radius),ctx.lineTo(.51*-t.radius,.11*-t.radius),ctx.quadraticCurveTo(.53*-t.radius,.35*t.radius,.18*-t.radius,.46*t.radius),ctx.lineTo(.515*t.radius,.785*t.radius),ctx.lineTo(.51*t.radius,.1*t.radius),ctx.quadraticCurveTo(.56*t.radius,-.37*t.radius,.11*t.radius,-.525*t.radius),ctx.lineTo(.52*-t.radius,.815*-t.radius),ctx.fill(),ctx.stroke(),ctx.closePath()},Jelly:t=>{ctx.strokeStyle=blendColor("#bbb9e4","#FF0000",blendAmount(t)),ctx.fillStyle=blendColor("#bbb9e4","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#ffffff",ctx.strokeStyle="#ffffff"),ctx.globalAlpha*=.5,ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.globalAlpha*=2,ctx.lineWidth=.25*t.radius,ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.stroke(),ctx.closePath(),ctx.globalAlpha*=.7,ctx.beginPath(),ctx.arc(.16*t.radius,.5*t.radius,.33*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(-.66*t.radius,.25*t.radius,.12*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(-.46*t.radius,-.29*t.radius,.25*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(.21*t.radius,-.21*t.radius,.165*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(0,-.82*t.radius,.164*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.globalAlpha*=1/.7},FlowerFace:t=>{const e=room.flowers[window.selfId];void 0!==e&&e.drawFlower(0,0,t.radius)},TanksmithProjectile:t=>{ctx.beginPath(),ctx.fillStyle=blendColor("#bfbfbf","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#868686","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},Pearl:t=>{ctx.lineWidth=t.radius/5,ctx.fillStyle=blendColor("#fffcd1","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cfcca9","#FF0000",blendAmount(t));let e=blendColor("#ffffff","#FF0000",blendAmount(t));checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF",e="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=e,ctx.beginPath(),ctx.arc(.3*t.radius,.3*-t.radius,.3*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath()},Sponge:t=>{ctx.fillStyle=blendColor("#efc99a","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#c2a37d","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=.2*t.radius,ctx.beginPath(),ctx.moveTo(.7*t.radius,0);for(let e=1*Math.PI/7;e<2*Math.PI;e+=2*Math.PI/7)ctx.quadraticCurveTo(Math.cos(e)*t.radius*1.2,Math.sin(e)*t.radius*1.2,Math.cos(e+1*Math.PI/7)*t.radius*.7,Math.sin(e+1*Math.PI/7)*t.radius*.7);ctx.fill(),ctx.stroke(),ctx.closePath()},Shell:t=>{ctx.strokeStyle=blendColor("#ccb36d","#FF0000",blendAmount(t)),ctx.fillStyle=blendColor("#fcdd86","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#ffffff",ctx.strokeStyle="#ffffff"),ctx.lineWidth=.2*t.radius,ctx.beginPath(),ctx.lineTo(-.73*t.radius,-.375*t.radius),ctx.lineTo(.39*t.radius,-1.15*t.radius),ctx.arcTo(3.3*t.radius,.21*t.radius,.14*t.radius,1.19*t.radius,1.24*t.radius),ctx.lineTo(.14*t.radius,1.19*t.radius),ctx.lineTo(.14*t.radius,1.19*t.radius),ctx.lineTo(-.78*t.radius,.24*t.radius),ctx.quadraticCurveTo(-.94*t.radius,-.06*t.radius,-.73*t.radius,-.375*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.lineWidth=.16*t.radius,ctx.beginPath(),ctx.lineTo(-.45*t.radius,-.24*t.radius),ctx.lineTo(.44*t.radius,-.585*t.radius),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.lineTo(-.37*t.radius,-.115*t.radius),ctx.lineTo(.62*t.radius,-.19*t.radius),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.lineTo(-.39*t.radius,.05*t.radius),ctx.lineTo(.57*t.radius,.31*t.radius),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.lineTo(-.47*t.radius,.16*t.radius),ctx.lineTo(.31*t.radius,.656*t.radius),ctx.stroke(),ctx.closePath()},"Bloodshot Eye":t=>{ctx.lineWidth=.1*t.radius,ctx.beginPath(),ctx.fillStyle=blendColor("#44173d","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#44173d","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.lineTo(0,.9*-t.radius),ctx.quadraticCurveTo(.75*t.radius,0,0,.9*t.radius),ctx.quadraticCurveTo(.75*-t.radius,0,0,.9*-t.radius),ctx.fill(),ctx.closePath(),ctx.fillStyle=blendColor("#dbaaccff","#FF0000",blendAmount(t)),ctx.beginPath(),ctx.arc(0,0,.4*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.lineTo(0,.9*-t.radius),ctx.quadraticCurveTo(.75*t.radius,0,0,.9*t.radius),ctx.quadraticCurveTo(.75*-t.radius,0,0,.9*-t.radius),ctx.stroke(),ctx.closePath()},"Third Eye":t=>{ctx.lineWidth=.1*t.radius,ctx.beginPath(),ctx.fillStyle=blendColor("#000000","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#000000","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.lineTo(0,.9*-t.radius),ctx.quadraticCurveTo(.75*t.radius,0,0,.9*t.radius),ctx.quadraticCurveTo(.75*-t.radius,0,0,.9*-t.radius),ctx.fill(),ctx.closePath(),ctx.fillStyle=blendColor("#ffffff","#FF0000",blendAmount(t)),ctx.beginPath(),ctx.arc(0,0,.4*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.lineTo(0,.9*-t.radius),ctx.quadraticCurveTo(.75*t.radius,0,0,.9*t.radius),ctx.quadraticCurveTo(.75*-t.radius,0,0,.9*-t.radius),ctx.stroke(),ctx.closePath()},"Blood Mandible":t=>{ctx.lineWidth=3,ctx.beginPath(),ctx.fillStyle=blendColor("#ec2d20ff","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#c50e01ff","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(-.82*t.radius,-1.03*t.radius),ctx.quadraticCurveTo(.21*t.radius,-.7*t.radius,.44*t.radius,-.3*t.radius),ctx.quadraticCurveTo(.78*t.radius,.2*t.radius,.74*t.radius,.76*t.radius),ctx.lineTo(.47*t.radius,.97*t.radius),ctx.lineTo(-.03*t.radius,1.01*t.radius),ctx.quadraticCurveTo(.68*t.radius,.25*t.radius,.06*t.radius,-.12*t.radius),ctx.lineTo(-.32*t.radius,-.11*t.radius),ctx.quadraticCurveTo(.12*t.radius,-.31*t.radius,-.06*t.radius,-.5*t.radius),ctx.quadraticCurveTo(-.19*t.radius,-.66*t.radius,-.66*t.radius,-.42*t.radius),ctx.quadraticCurveTo(-.13*t.radius,-.73*t.radius,-.82*t.radius,-1.03*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath()},Mandible:t=>{ctx.lineWidth=3,ctx.beginPath(),ctx.fillStyle=blendColor("#761008","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#5a0c07","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(-.82*t.radius,-1.03*t.radius),ctx.quadraticCurveTo(.21*t.radius,-.7*t.radius,.44*t.radius,-.3*t.radius),ctx.quadraticCurveTo(.78*t.radius,.2*t.radius,.74*t.radius,.76*t.radius),ctx.lineTo(.47*t.radius,.97*t.radius),ctx.lineTo(-.03*t.radius,1.01*t.radius),ctx.quadraticCurveTo(.68*t.radius,.25*t.radius,.06*t.radius,-.12*t.radius),ctx.lineTo(-.32*t.radius,-.11*t.radius),ctx.quadraticCurveTo(.12*t.radius,-.31*t.radius,-.06*t.radius,-.5*t.radius),ctx.quadraticCurveTo(-.19*t.radius,-.66*t.radius,-.66*t.radius,-.42*t.radius),ctx.quadraticCurveTo(-.13*t.radius,-.73*t.radius,-.82*t.radius,-1.03*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath()},Light:t=>{ctx.lineWidth=3,ctx.beginPath(),ctx.fillStyle=blendColor("#ffffff","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cfcfcf","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},"Blood Light":t=>{ctx.lineWidth=3,ctx.beginPath(),ctx.strokeStyle=blendColor("#7e0d0d","#FF0000",blendAmount(t)),ctx.fillStyle=blendColor("#9c1010","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},Rog456:t=>{ctx.lineWidth=t.radius/5,ctx.beginPath(),ctx.fillStyle=blendColor("#000000","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#000000","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},Heavy:t=>{ctx.lineWidth=t.radius/5,ctx.beginPath(),ctx.fillStyle=blendColor("#333333","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#292929","#FF0000",blendAmount(t));let e=blendColor("#cccccc","#FF0000",blendAmount(t));checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF",e="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=e,ctx.beginPath(),ctx.arc(.35*t.radius,.35*-t.radius,.3*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath()},Rice:t=>{ctx.beginPath();let e=blendColor("#ffffff","#FF0000",blendAmount(t)),a=blendColor("#cfcfcf","#FF0000",blendAmount(t));checkForFirstFrame(t)&&(e="#FFFFFF",a="#FFFFFF"),ctx.strokeStyle=a,ctx.lineWidth=t.radius,ctx.beginPath(),ctx.moveTo(-t.radius,0),ctx.quadraticCurveTo(0,.4*-t.radius,t.radius,0),ctx.stroke(),ctx.closePath(),ctx.strokeStyle=e,ctx.lineWidth=t.radius/2,ctx.beginPath(),ctx.moveTo(-t.radius,0),ctx.quadraticCurveTo(0,.4*-t.radius,t.radius,0),ctx.stroke(),ctx.closePath()},Iris:t=>{ctx.lineWidth=3,ctx.beginPath(),ctx.fillStyle=blendColor("#ce76db","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#a760b1","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},"Shiny Iris":t=>{ctx.lineWidth=3,ctx.beginPath(),ctx.fillStyle=blendColor("#d4af5f","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#ab8d4c","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},Faster:t=>{ctx.lineWidth=3,ctx.beginPath(),ctx.fillStyle=blendColor("#feffc9","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cecfa3","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},Stalk:t=>{ctx.fillStyle=blendColor("#3c763d","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#2b502b","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=t.radius/3,ctx.lineJoin="round",ctx.beginPath(),ctx.moveTo(0,1*t.radius),ctx.lineTo(.4*-t.radius,-t.radius),ctx.lineTo(.4*t.radius,-t.radius),ctx.lineTo(0,1*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath()},Stinger:t=>{ctx.fillStyle=blendColor("#333333","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#292929","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=2.75,ctx.lineJoin="round",ctx.beginPath(),ctx.moveTo(t.radius,0),ctx.lineTo(Math.cos(2/3*Math.PI)*t.radius,Math.sin(2/3*Math.PI)*t.radius),ctx.lineTo(Math.cos(4/3*Math.PI)*t.radius,Math.sin(4/3*Math.PI)*t.radius),ctx.lineTo(t.radius,0),ctx.fill(),ctx.stroke(),ctx.closePath()},"Blood Stinger":t=>{ctx.strokeStyle=blendColor("#7e0d0d","#FF0000",blendAmount(t)),ctx.fillStyle=blendColor("#9c1010","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=2.75,ctx.lineJoin="round",ctx.beginPath(),ctx.moveTo(t.radius,0),ctx.lineTo(Math.cos(2/3*Math.PI)*t.radius,Math.sin(2/3*Math.PI)*t.radius),ctx.lineTo(Math.cos(4/3*Math.PI)*t.radius,Math.sin(4/3*Math.PI)*t.radius),ctx.lineTo(t.radius,0),ctx.fill(),ctx.stroke(),ctx.closePath()},Sand:t=>{ctx.fillStyle=blendColor("#e0c85c","#FF0000",blendAmount(t)),ctx.strokeStyle="#b5a24b",ctx.lineWidth=1*t.radius/2,ctx.rotate(15*Math.PI/180),ctx.beginPath();for(let e=0;e<=6;e++)ctx.lineTo(Math.cos(e*Math.PI*2/6)*t.radius,Math.sin(e*Math.PI*2/6)*t.radius);ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.rotate(-15*Math.PI/180)},Spore:t=>{ctx.fillStyle=blendColor("#9e7d5d","#FF0000",blendAmount(t)),ctx.strokeStyle="#755c43",ctx.lineWidth=1*t.radius/2,ctx.rotate(15*Math.PI/180),ctx.beginPath();for(let e=0;e<=7;e++)ctx.lineTo(Math.cos(e*Math.PI*2/7)*t.radius*(Math.sin(e)/10+1),Math.sin(e*Math.PI*2/7)*t.radius*(Math.sin(e+17.5)/10+1));ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.rotate(-15*Math.PI/180)},Compost:t=>{ctx.fillStyle=blendColor("#4b3b2b","#ff0000ff",blendAmount(t)),ctx.strokeStyle="#2e241a",ctx.lineWidth=.5*t.radius,ctx.beginPath();for(let e=0;e<=9;e++){const a=e*Math.PI*2/9,i=.4*Math.sin(1.7*e+.1*t.radius),l=t.radius*(1+i);ctx.lineTo(Math.cos(a)*l,Math.sin(a)*l)}ctx.closePath(),ctx.fill(),ctx.stroke();const e=Math.floor(3+5*Math.random());ctx.fillStyle="#3a2d20";for(let a=0;a<e;a++){const e=Math.random()*Math.PI*2,a=t.radius*(1.2+.8*Math.random()),i=.1*t.radius*Math.random();ctx.beginPath(),ctx.arc(Math.cos(e)*a,Math.sin(e)*a,i,0,2*Math.PI),ctx.fill()}},Missile:t=>{let e=blendColor("#333333","#FF0000",blendAmount(t));checkForFirstFrame(t)&&(e="#FFFFFF"),ctx.lineJoin="round",ctx.rotate(Math.PI/2),ctx.beginPath(),ctx.fillStyle=e,ctx.strokeStyle=e,ctx.lineWidth=t.radius/1.5,ctx.moveTo(0,-t.radius*Math.sqrt(3)),ctx.lineTo(t.radius*Math.sqrt(3)*.48,t.radius/2*Math.sqrt(3)),ctx.lineTo(-t.radius*Math.sqrt(3)*.48,t.radius/2*Math.sqrt(3)),ctx.lineTo(0,-t.radius*Math.sqrt(3)),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.rotate(-Math.PI/2)},"Homing Missile":t=>{let e=blendColor("#222222","#ff0000",blendAmount(t)),a=blendColor("#325f28","#ff0000",blendAmount(t));checkForFirstFrame(t)&&(e="#FFFFFF",a="#FFFFFF"),ctx.lineJoin="round",ctx.rotate(Math.PI/2),ctx.beginPath(),ctx.fillStyle=e,ctx.strokeStyle=e,ctx.lineWidth=t.radius/1.5,ctx.moveTo(0,1*t.radius),ctx.lineTo(.9*t.radius,.3*t.radius),ctx.lineTo(.9*-t.radius,.3*t.radius),ctx.closePath(),ctx.fill(),ctx.stroke(),ctx.beginPath(),ctx.fillStyle=a,ctx.strokeStyle=a,ctx.moveTo(0,1.2*-t.radius),ctx.lineTo(.5*t.radius,.3*t.radius),ctx.lineTo(.5*-t.radius,.3*t.radius),ctx.closePath(),ctx.fill(),ctx.stroke(),ctx.rotate(-Math.PI/2)},"Fire Missile":t=>{let e=blendColor("#882200","#FF0000",blendAmount(t));checkForFirstFrame(t)&&(e="#FFFFFF"),ctx.lineJoin="round",ctx.rotate(Math.PI/2),ctx.beginPath(),ctx.fillStyle=e,ctx.strokeStyle=e,ctx.lineWidth=t.radius/1.5,ctx.moveTo(0,-t.radius*Math.sqrt(3)),ctx.lineTo(t.radius*Math.sqrt(3)*.48,t.radius/2*Math.sqrt(3)),ctx.lineTo(-t.radius*Math.sqrt(3)*.48,t.radius/2*Math.sqrt(3)),ctx.lineTo(0,-t.radius*Math.sqrt(3)),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.rotate(-Math.PI/2)},Bud:t=>{ctx.lineWidth=3,ctx.fillStyle=blendColor("#c02dd6","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#9c24ad","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF");for(let e=5;e--;e>0)ctx.beginPath(),ctx.arc(t.radius*Math.sin(6.28318*e/5),t.radius*Math.cos(6.28318*e/5),.8*t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath();ctx.fillStyle=blendColor("#ebac00","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#b38302","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},Bloom:t=>{ctx.lineWidth=3,ctx.fillStyle=blendColor("#ebac00","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#b38302","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF");for(let e=10;e--;e>0)ctx.beginPath(),ctx.arc(t.radius*Math.sin(6.28318*e/10),t.radius*Math.cos(6.28318*e/10),.7*t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath();ctx.fillStyle=blendColor("#c02dd6","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#9c24ad","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},MissileProjectile:t=>{petalRenderMap.Missile(t)},BladeProjectile:t=>{petalRenderMap.Blade(t)},"Homing MissileProjectile":t=>{petalRenderMap["Homing Missile"](t)},"Fire MissileProjectile":t=>{petalRenderMap["Fire Missile"](t)},"Bloodshot EyeProjectile":t=>{petalRenderMap["Bloodshot Eye"](t)},SporeProjectile:t=>{petalRenderMap.Spore(t)},BudProjectile:t=>{petalRenderMap.Bud(t)},BloomProjectile:t=>{petalRenderMap.Bloom(t)},PeasProjectile:t=>{petalRenderMap.Peas(t)},GrapesProjectile:t=>{petalRenderMap.Grapes(t)},BlueberriesProjectile:t=>{petalRenderMap.Blueberries(t)},PomegranateProjectile:t=>{petalRenderMap.Pomegranate(t)},PollenProjectile:t=>{petalRenderMap.Pollen(t)},HoneyProjectile:t=>{petalRenderMap.Honey(t)},NeutronStarProjectile:t=>{petalRenderMap["Neutron Star"](t)},DandelionProjectile:t=>{petalRenderMap.Dandelion(t)},RoseProjectile:t=>{petalRenderMap.Rose(t)},"Blood RoseProjectile":t=>{petalRenderMap["Blood Rose"](t)},DustProjectile:t=>{petalRenderMap.Dust(t)},BloodJoltProjectile:t=>{petalRenderMap["Blood Jolt"](t)},JoltProjectile:t=>{petalRenderMap.Jolt(t)},DahliaProjectile:t=>{petalRenderMap.Dahlia(t)},WebProjectile:t=>{petalRenderMap.Web(t)},NeurotoxinProjectile:t=>{petalRenderMap.Neurotoxin(t)},ShellProjectile:t=>{petalRenderMap.Shell(t)},NeurotoxinProjectilePuddle:t=>{ctx.globalAlpha*=.2,ctx.fillStyle="#5353c9",ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.globalAlpha/=.2},WebProjectileWeb:t=>{const e=ctx.globalAlpha;ctx.globalAlpha*=.2,ctx.strokeStyle="white",ctx.lineWidth=t.radius/12,ctx.beginPath(),ctx.moveTo(.95*t.radius,0);for(let e=0;e<=2*Math.PI;e+=Math.PI/5.5)ctx.quadraticCurveTo(Math.cos(e-Math.PI/11)*(.75*t.radius),Math.sin(e-Math.PI/11)*(.75*t.radius),Math.cos(e)*t.radius*.95,Math.sin(e)*t.radius*.95);ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(.75*t.radius,0);for(let e=0;e<=2*Math.PI;e+=Math.PI/5.5)ctx.quadraticCurveTo(Math.cos(e-Math.PI/11)*(.55*t.radius),Math.sin(e-Math.PI/11)*(.55*t.radius),Math.cos(e)*t.radius*.75,Math.sin(e)*t.radius*.75);ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(.55*t.radius,0);for(let e=0;e<=2*Math.PI;e+=Math.PI/5.5)ctx.quadraticCurveTo(Math.cos(e-Math.PI/11)*(.35*t.radius),Math.sin(e-Math.PI/11)*(.35*t.radius),Math.cos(e)*t.radius*.55,Math.sin(e)*t.radius*.55);ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(.35*t.radius,0);for(let e=0;e<=2*Math.PI;e+=Math.PI/5.5)ctx.quadraticCurveTo(Math.cos(e-Math.PI/11)*(.15*t.radius),Math.sin(e-Math.PI/11)*(.15*t.radius),Math.cos(e)*t.radius*.35,Math.sin(e)*t.radius*.35);ctx.stroke(),ctx.closePath();for(let e=11;e--;e>0)ctx.beginPath(),ctx.moveTo(0,0),ctx.lineTo(t.radius*Math.cos(e/11*Math.PI*2),t.radius*Math.sin(e/11*Math.PI*2)),ctx.stroke(),ctx.closePath();ctx.globalAlpha=e},Ruby:t=>{if(16==t.rarity&&!0!==window.noTrans){ctx.save(),ctx.beginPath(),ctx.lineWidth=.3*t.radius,ctx.rotate(Math.PI/4);for(let e=0;e<=3;e++)ctx.lineTo(Math.cos(e*Math.PI*2/3)*t.radius,Math.sin(e*Math.PI*2/3)*t.radius);ctx.rotate(-Math.PI/4),ctx.fill(),ctx.closePath(),ctx.clip(),ctx.fillStyle=blendColor("#5ccefa","#FF0000",blendAmount(t)),ctx.rotate(-t.selfAngle),ctx.beginPath(),ctx.rect(-2*t.radius,-1.05*t.radius,4*t.radius,.6*t.radius),ctx.rect(-2*t.radius,.45*t.radius,4*t.radius,.6*t.radius),ctx.fill(),ctx.closePath(),ctx.fillStyle=blendColor("#f4a9b7","#FF0000",blendAmount(t)),ctx.beginPath(),ctx.rect(-2*t.radius,-.45*t.radius,4*t.radius,.3*t.radius),ctx.rect(-2*t.radius,.3*t.radius,4*t.radius,.3*t.radius),ctx.fill(),ctx.closePath(),ctx.fillStyle=blendColor("#ffffff","#FF0000",blendAmount(t)),ctx.beginPath(),ctx.rect(-2*t.radius,-.15*t.radius,4*t.radius,.45*t.radius),ctx.fill(),ctx.closePath(),ctx.restore()}else{ctx.beginPath(),ctx.fillStyle=blendColor("#e03f3f","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#a12222","#FF0000",blendAmount(t)),ctx.lineWidth=3,checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.rotate(Math.PI/4);for(let e=0;e<=3;e++)ctx.lineTo(Math.cos(e*Math.PI*2/3)*t.radius,Math.sin(e*Math.PI*2/3)*t.radius);ctx.rotate(-Math.PI/4),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.fillStyle=blendColor(blendColor("#e03f3f","#ffffff",.3),"#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.rotate(Math.PI/4);for(let e=0;e<=3;e++)ctx.lineTo(Math.cos(e*Math.PI*2/3)*t.radius*.4,Math.sin(e*Math.PI*2/3)*t.radius*.4);ctx.rotate(-Math.PI/4),ctx.fill(),ctx.closePath()}},"Shiny Ruby":t=>{ctx.beginPath(),ctx.fillStyle=blendColor("#e0e03f","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#9fac27","#FF0000",blendAmount(t)),ctx.lineWidth=3,checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.rotate(Math.PI/4);for(let e=0;e<=3;e++)ctx.lineTo(Math.cos(e*Math.PI*2/3)*t.radius,Math.sin(e*Math.PI*2/3)*t.radius);ctx.rotate(-Math.PI/4),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.fillStyle=blendColor(blendColor("#e9e174","#ffffff",.3),"#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.rotate(Math.PI/4);for(let e=0;e<=3;e++)ctx.lineTo(Math.cos(e*Math.PI*2/3)*t.radius*.4,Math.sin(e*Math.PI*2/3)*t.radius*.4);ctx.rotate(-Math.PI/4),ctx.fill(),ctx.closePath()},Sapphire:t=>{ctx.beginPath(),ctx.fillStyle=blendColor("#12a9e7","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#0896d9","#FF0000",blendAmount(t)),ctx.lineWidth=3,checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.rotate(Math.PI/4);for(let e=0;e<=8;e++)ctx.lineTo(Math.cos(e*Math.PI*2/8)*t.radius,Math.sin(e*Math.PI*2/8)*t.radius);ctx.rotate(-Math.PI/4),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.fillStyle=blendColor(blendColor("#12a9e7","#ffffff",.3),"#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.rotate(Math.PI/4);for(let e=0;e<=8;e++)ctx.lineTo(Math.cos(e*Math.PI*2/8)*t.radius*.6,Math.sin(e*Math.PI*2/8)*t.radius*.6);ctx.rotate(-Math.PI/4),ctx.fill(),ctx.closePath()},"Amulet of Divergence":t=>{ctx.fillStyle=blendColor("#ffd256","#ff0000",blendAmount(t)),ctx.strokeStyle=blendColor("#d1ac46","#ff0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=.2*t.radius;let e=2*Math.PI/3;ctx.beginPath(),ctx.moveTo(t.radius,0);for(let a=0;a<=3;a++)ctx.lineTo(Math.cos(a*e)*t.radius,Math.sin(a*e)*t.radius);ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=t.rarity<11?blendColor("#393939","#ff0000",blendAmount(t)):t.rarity<12?blendColor("#632899","#ff0000",blendAmount(t)):t.rarity>12?blendColor("#7e52a7","#ff0000",blendAmount(t)):blendColor("#7123b9","#ff0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(t.radius,0);for(let a=0;a<=3;a++)ctx.lineTo(Math.cos(a*e)*t.radius/2,Math.sin(a*e)*t.radius/2);ctx.fill(),ctx.closePath(),ctx.fillStyle=t.rarity<11?blendColor("#464646","#ff0000",blendAmount(t)):t.rarity<12?blendColor("#7931bb","#ff0000",blendAmount(t)):t.rarity>12?blendColor("#9a64cc","#ff0000",blendAmount(t)):blendColor("#8A2BE2","#ff0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(t.radius,0);for(let a=0;a<=3;a++)ctx.lineTo(Math.cos(a*e)*t.radius/4,Math.sin(a*e)*t.radius/4);ctx.fill(),ctx.closePath()},"Shard of Divergence":t=>{ctx.fillStyle=blendColor("#8A2BE2","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#7123b9","#FF0000",blendAmount(t)),ctx.lineWidth=.2*t.radius,checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(0,1.5*t.radius),ctx.lineTo(.75*t.radius,0),ctx.lineTo(0,1.5*-t.radius),ctx.lineTo(.75*-t.radius,0),ctx.lineTo(0,1.5*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor(blendColor(ctx.fillStyle,"#ffffff",.18),"#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(0,.9*t.radius),ctx.lineTo(.45*t.radius,0),ctx.lineTo(0,.9*-t.radius),ctx.lineTo(.45*-t.radius,0),ctx.lineTo(0,.9*t.radius),ctx.fill(),ctx.closePath()},"Amulet of Grace":t=>{ctx.fillStyle=blendColor("#ffd256","#ff0000",blendAmount(t)),ctx.strokeStyle=blendColor("#d1ac46","#ff0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=.2*t.radius;let e=2*Math.PI/5;ctx.beginPath(),ctx.moveTo(t.radius,0);for(let a=0;a<=5;a++)ctx.lineTo(Math.cos(a*e)*t.radius,Math.sin(a*e)*t.radius);ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=t.rarity<11?blendColor("#393939","#ff0000",blendAmount(t)):t.rarity<12?blendColor("#aa7e84","#ff0000",blendAmount(t)):blendColor("#e8a5af","#ff0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(t.radius,0);for(let a=0;a<=5;a++)ctx.lineTo(Math.cos(a*e)*t.radius/1.5,Math.sin(a*e)*t.radius/1.5);ctx.fill(),ctx.closePath(),ctx.fillStyle=t.rarity<11?blendColor("#464646","#ff0000",blendAmount(t)):t.rarity<12?blendColor("#d09aa2","#ff0000",blendAmount(t)):blendColor("#FFB6C1","#ff0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(t.radius,0);for(let a=0;a<=5;a++)ctx.lineTo(Math.cos(a*e)*t.radius/3,Math.sin(a*e)*t.radius/3);ctx.fill(),ctx.closePath()},"Shard of Grace":t=>{ctx.fillStyle=blendColor("#FFB6C1","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#e8a5af","#FF0000",blendAmount(t)),ctx.lineWidth=.2*t.radius,checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(0,1.5*t.radius),ctx.lineTo(.75*t.radius,0),ctx.lineTo(0,1.5*-t.radius),ctx.lineTo(.75*-t.radius,0),ctx.lineTo(0,1.5*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor(blendColor(ctx.fillStyle,"#ffffff",.25),"#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(0,.9*t.radius),ctx.lineTo(.45*t.radius,0),ctx.lineTo(0,.9*-t.radius),ctx.lineTo(.45*-t.radius,0),ctx.lineTo(0,.9*t.radius),ctx.fill(),ctx.closePath()},"Amulet of Time":t=>{ctx.fillStyle=blendColor("#ffd256","#ff0000",blendAmount(t)),ctx.strokeStyle=blendColor("#d1ac46","#ff0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=.2*t.radius,ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=t.rarity<11?blendColor("#393939","#ff0000",blendAmount(t)):t.rarity<12?blendColor("#11acae","#ff0000",blendAmount(t)):blendColor("#00CED1","#ff0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius/1.5,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.fillStyle=t.rarity<11?blendColor("#464646","#ff0000",blendAmount(t)):t.rarity<12?blendColor("#33b2b4","#ff0000",blendAmount(t)):blendColor("#2dd6d9","#ff0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius/3,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.strokeStyle="#ffffff",ctx.globalAlpha=t.rarity<11?.25:.5,ctx.beginPath(),ctx.moveTo(0,0),ctx.lineTo(.25*t.radius,0),ctx.moveTo(0,0),ctx.lineTo(0,-.5*t.radius),ctx.stroke(),ctx.closePath(),ctx.globalAlpha=1},"Shard of Time":t=>{ctx.fillStyle=blendColor("#2dd6d9","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#00CED1","#FF0000",blendAmount(t)),ctx.lineWidth=.2*t.radius,checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(0,1.5*t.radius),ctx.lineTo(.75*t.radius,0),ctx.lineTo(0,1.5*-t.radius),ctx.lineTo(.75*-t.radius,0),ctx.lineTo(0,1.5*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor(blendColor(ctx.fillStyle,"#ffffff",.25),"#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(0,.9*t.radius),ctx.lineTo(.45*t.radius,0),ctx.lineTo(0,.9*-t.radius),ctx.lineTo(.45*-t.radius,0),ctx.lineTo(0,.9*t.radius),ctx.fill(),ctx.closePath()},"Amulet of GraceProjectile":t=>{petalRenderMap["Amulet of Grace"](t)},"Shard of GraceProjectile":t=>{petalRenderMap["Shard of Grace"](t)},Emerald:t=>{ctx.beginPath(),ctx.fillStyle=blendColor("#12e727","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#08c912","#FF0000",blendAmount(t)),ctx.lineWidth=3,checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.rotate(Math.PI/4);for(let e=0;e<=5;e++)ctx.lineTo(Math.cos(e*Math.PI*2/5)*t.radius,Math.sin(e*Math.PI*2/5)*t.radius);ctx.rotate(-Math.PI/4),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.fillStyle=blendColor(blendColor("#12e727","#ffffff",.3),"#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.rotate(Math.PI/4);for(let e=0;e<=5;e++)ctx.lineTo(Math.cos(e*Math.PI*2/5)*t.radius*.6,Math.sin(e*Math.PI*2/5)*t.radius*.6);ctx.rotate(-Math.PI/4),ctx.fill(),ctx.closePath()},Rock:t=>{if(7===t.rarity)return void 0!==t.image&&void 0!==t.image.onload||(t.image=new Image,t.image.src="https://memes.co.in/memes/update/uploads/2021/12/InShot_20211209_222013681-1024x1024.jpg",t.image.onload=()=>{t.imageLoaded=!0}),void(!0===t.imageLoaded&&ctx.drawImage(t.image,-t.radius,-t.radius,2*t.radius,2*t.radius));ctx.beginPath(),ctx.fillStyle=blendColor("#777777","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#606060","#FF0000",blendAmount(t)),ctx.lineWidth=3,checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF");for(let e=0;e<5;e++)ctx.lineTo(Math.cos(1.256*e)*t.radius,Math.sin(1.256*e)*t.radius);ctx.fill(),ctx.lineTo(Math.cos(6.28)*t.radius,Math.sin(6.28)*t.radius),ctx.stroke(),ctx.closePath()},Ikea:t=>{void 0!==t.image&&void 0!==t.image.onload||(t.image=new Image,t.image.src="https://archello.com/thumbs/images/2014/02/03/IKEA-Tampines.1506072620.5502.jpg?fit=crop&w=414&h=518",t.image.onload=()=>{t.imageLoaded=!0}),!0===t.imageLoaded&&ctx.drawImage(t.image,2*-t.radius,2*-t.radius,4*t.radius,4*t.radius)},IkeaChair:t=>{void 0!==t.image&&void 0!==t.image.onload||(t.image=new Image,t.image.src="https://www.ikea.com/us/en/images/products/lisabo-chair-ash__0786549_pe763015_s5.jpg",t.image.onload=()=>{t.imageLoaded=!0}),!0===t.imageLoaded&&ctx.drawImage(t.image,1.8*-t.radius,1.8*-t.radius,3.6*t.radius,3.6*t.radius)},Thomas:t=>{void 0!==t.image&&void 0!==t.image.onload||(t.image=new Image,t.image.src="https://i.pinimg.com/originals/96/21/65/96216524958973ceffb8b7a2f29c9110.png",t.image.onload=()=>{t.imageLoaded=!0}),!0===t.imageLoaded&&ctx.drawImage(t.image,2*-t.radius,2*-t.radius,4*t.radius,4*t.radius)},ThomasProjectile:t=>{if("game"===window.state&&(void 0!==t.image&&void 0!==t.image.onload||(t.image=new Image,t.image.src="https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/cac178bd-54d7-48ce-807a-c46f1a058300/dbdwqrf-dd9b7ed2-7f9f-4630-acaf-6afe5d1574c7.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcL2NhYzE3OGJkLTU0ZDctNDhjZS04MDdhLWM0NmYxYTA1ODMwMFwvZGJkd3FyZi1kZDliN2VkMi03ZjlmLTQ2MzAtYWNhZi02YWZlNWQxNTc0YzcucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.dv3Wy-zThJiXQnv_L1gKa1UBskTmd6ltcWNnC9rISlI",t.image.onload=()=>{t.imageLoaded=!0},new Audio("/gfx/thomas.mp3").play(),setTimeout(()=>{t.dropped=!0},2700)),!0===t.imageLoaded&&!0===t.dropped)){let e=.7*Math.cos(Date.now()/90),a=.5*Math.cos(Date.now()/45);ctx.rotate(e),ctx.drawImage(t.image,-t.radius*(1.5+a),-t.radius*(1.5+a),2*t.radius*(1.5+a),2*t.radius*(1.5+a)),ctx.rotate(-e)}},Soil:t=>{ctx.lineWidth=.3,ctx.beginPath(),ctx.fillStyle=blendColor("#695118","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#554213","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.scale(t.radius,t.radius),ctx.moveTo(.13552,-1.10878),ctx.lineTo(.8339,-.69709),ctx.lineTo(.93935,.37472),ctx.lineTo(-.03939,.96486),ctx.lineTo(-.74308,.7731),ctx.lineTo(-1.02167,-.01482),ctx.lineTo(-.73154,-.71841),ctx.lineTo(.13552,-1.10878),ctx.fill(),ctx.stroke(),ctx.scale(1/t.radius,1/t.radius),ctx.closePath()},Salt:t=>{ctx.beginPath(),ctx.fillStyle=blendColor("#ffffff","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cfcfcf","#FF0000",blendAmount(t)),ctx.lineWidth=3,checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.moveTo(1.28*t.radius,-.25*t.radius),ctx.lineTo(.88*t.radius,.7*t.radius),ctx.lineTo(-.04*t.radius,1.15*t.radius),ctx.lineTo(-.97*t.radius,.71*t.radius),ctx.lineTo(-1.23*t.radius,-.35*t.radius),ctx.lineTo(-.56*t.radius,-1.23*t.radius),ctx.lineTo(.6*t.radius,-1.12*t.radius),ctx.fill(),ctx.lineTo(1.28*t.radius,-.25*t.radius),ctx.stroke(),ctx.closePath()},Powder:t=>{16==t.rarity&&!0!==window.noTrans?(ctx.fillStyle=blendColor("#ffffff","#FF0000",blendAmount(t)),ctx.save(),ctx.beginPath(),ctx.arc(.63*t.radius,-.63*t.radius,.46*t.radius,0,2*Math.PI),ctx.arc(.63*t.radius,0*t.radius,.43*t.radius,0,2*Math.PI),ctx.arc(.45*t.radius,.26*t.radius,.43*t.radius,0,2*Math.PI),ctx.arc(.34*t.radius,.79*t.radius,.45*t.radius,0,2*Math.PI),ctx.arc(-.1*t.radius,.4*t.radius,.45*t.radius,0,2*Math.PI),ctx.arc(-.62*t.radius,.2*t.radius,.45*t.radius,0,2*Math.PI),ctx.arc(-.71*t.radius,-.09*t.radius,.45*t.radius,0,2*Math.PI),ctx.arc(-.55*t.radius,-.74*t.radius,.45*t.radius,0,2*Math.PI),ctx.arc(-.16*t.radius,-.57*t.radius,.45*t.radius,0,2*Math.PI),ctx.arc(0*t.radius,-.5*t.radius,.45*t.radius,0,2*Math.PI),ctx.arc(0,0,.4*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.clip(),ctx.fillStyle=blendColor("#5ccefa","#FF0000",blendAmount(t)),ctx.rotate(-t.selfAngle),ctx.beginPath(),ctx.rect(-2*t.radius,-1.4*t.radius,4*t.radius,.7*t.radius),ctx.rect(-2*t.radius,.6*t.radius,4*t.radius,.8*t.radius),ctx.fill(),ctx.closePath(),ctx.fillStyle=blendColor("#f4a9b7","#FF0000",blendAmount(t)),ctx.beginPath(),ctx.rect(-2*t.radius,-.8*t.radius,4*t.radius,.6*t.radius),ctx.rect(-2*t.radius,.2*t.radius,4*t.radius,.6*t.radius),ctx.fill(),ctx.closePath(),ctx.restore()):(ctx.fillStyle=blendColor("#ffffff","#FF0000",blendAmount(t)),ctx.beginPath(),ctx.arc(.63*t.radius,-.63*t.radius,.46*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(.63*t.radius,0*t.radius,.43*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(.45*t.radius,.26*t.radius,.43*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(.34*t.radius,.79*t.radius,.45*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(-.1*t.radius,.4*t.radius,.45*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(-.62*t.radius,.2*t.radius,.45*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(-.71*t.radius,-.09*t.radius,.45*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(-.55*t.radius,-.74*t.radius,.45*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(-.16*t.radius,-.57*t.radius,.45*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(0*t.radius,-.5*t.radius,.45*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(0,0,.4*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath())},Dust:t=>{ctx.fillStyle=blendColor("#888888","#FF0000",blendAmount(t));const e=.05*Date.now();for(let a=0;a<20;a++){const i=a/20*Math.PI*2+.5*Math.sin(.3*e+a),l=Math.cos(.2*e+2*a)*t.radius*.2,c=.5*t.radius+l,r=Math.cos(i)*c,o=Math.sin(i+.5*a)*(.8*c),s=.2*t.radius+Math.sin(.7*e+3*a)*t.radius*.05;ctx.beginPath(),ctx.arc(r,o,s,0,2*Math.PI),ctx.fill(),ctx.closePath()}const a=.3*t.radius+Math.sin(.5*e)*t.radius*.03;ctx.beginPath(),ctx.arc(0,0,a,0,2*Math.PI),ctx.fill(),ctx.closePath()},Leaf:t=>{const e=1.35;ctx.lineWidth=t.radius/e/2.5,ctx.fillStyle=blendColor("#39b54a","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#2e933c","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.rotate(Math.PI/4-.2),ctx.beginPath(),ctx.moveTo(0,1.854*t.radius/e),ctx.quadraticCurveTo(-2.88*t.radius/e*.87,.31*t.radius/e,0,-2.325*t.radius/e),ctx.moveTo(0,1.854*t.radius/e),ctx.quadraticCurveTo(2.88*t.radius/e*.87,.31*t.radius/e,0,-2.325*t.radius/e),ctx.moveTo(0,1.948*t.radius/e),ctx.lineTo(0,2.536*t.radius/e),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(0,.948*t.radius/e),ctx.quadraticCurveTo(-.18*t.radius/e,-.1885*t.radius/e,0,(1.05-2.325)*t.radius/e),ctx.stroke(),ctx.closePath(),ctx.rotate(-Math.PI/4+.2)},Blade:t=>{const e=1.6;ctx.lineWidth=t.radius/e/6,ctx.fillStyle=blendColor("#3ba43b","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#1f5c1f","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(0,t.radius/e*2.2),ctx.quadraticCurveTo(-.5*t.radius/e,-.5*t.radius/e,0,-2.8*t.radius/e),ctx.moveTo(0,t.radius/e*2.2),ctx.quadraticCurveTo(.5*t.radius/e,-.5*t.radius/e,0,-2.8*t.radius/e),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(0,t.radius/e*2.1),ctx.lineTo(0,-2.6*t.radius/e),ctx.stroke(),ctx.closePath()},Cinderleaf:t=>{const e=1.35;ctx.lineWidth=t.radius/e/2.5,ctx.fillStyle=blendColor("#fc9547","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cc7b3d","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.rotate(Math.PI/4-.2),ctx.beginPath(),ctx.moveTo(0,1.854*t.radius/e),ctx.quadraticCurveTo(-2.88*t.radius/e*.87,.31*t.radius/e,0,-2.325*t.radius/e),ctx.moveTo(0,1.854*t.radius/e),ctx.quadraticCurveTo(2.88*t.radius/e*.87,.31*t.radius/e,0,-2.325*t.radius/e),ctx.moveTo(0,1.948*t.radius/e),ctx.lineTo(0,2.536*t.radius/e),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(0,.948*t.radius/e),ctx.quadraticCurveTo(-.18*t.radius/e,-.1885*t.radius/e,0,(1.05-2.325)*t.radius/e),ctx.stroke(),ctx.closePath(),ctx.rotate(-Math.PI/4+.2)},"Shiny Leaf":t=>{const e=1.35;ctx.lineWidth=t.radius/e/2.5,ctx.fillStyle=blendColor("#ffe419","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cfb914","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.rotate(Math.PI/4-.2),ctx.beginPath(),ctx.moveTo(0,1.854*t.radius/e),ctx.quadraticCurveTo(-2.88*t.radius/e*.87,.31*t.radius/e,0,-2.325*t.radius/e),ctx.moveTo(0,1.854*t.radius/e),ctx.quadraticCurveTo(2.88*t.radius/e*.87,.31*t.radius/e,0,-2.325*t.radius/e),ctx.moveTo(0,1.948*t.radius/e),ctx.lineTo(0,2.536*t.radius/e),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(0,.948*t.radius/e),ctx.quadraticCurveTo(-.18*t.radius/e,-.1885*t.radius/e,0,(1.05-2.325)*t.radius/e),ctx.stroke(),ctx.closePath(),ctx.rotate(-Math.PI/4+.2)},"Blood Leaf":t=>{const e=1.35;ctx.lineWidth=t.radius/e/2.5,ctx.strokeStyle=blendColor("#b73333","#FF0000",blendAmount(t)),ctx.fillStyle=blendColor("#e03f3f","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.rotate(Math.PI/4-.2),ctx.beginPath(),ctx.moveTo(0,1.854*t.radius/e),ctx.quadraticCurveTo(-2.88*t.radius/e*.87,.31*t.radius/e,0,-2.325*t.radius/e),ctx.moveTo(0,1.854*t.radius/e),ctx.quadraticCurveTo(2.88*t.radius/e*.87,.31*t.radius/e,0,-2.325*t.radius/e),ctx.moveTo(0,1.948*t.radius/e),ctx.lineTo(0,2.536*t.radius/e),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(0,.948*t.radius/e),ctx.quadraticCurveTo(-.18*t.radius/e,-.1885*t.radius/e,0,(1.05-2.325)*t.radius/e),ctx.stroke(),ctx.closePath(),ctx.rotate(-Math.PI/4+.2)},Toxin:t=>{ctx.lineWidth=t.radius/1/5.5,ctx.fillStyle=blendColor("#8e44ad","#00FF00",blendAmount(t)),ctx.strokeStyle=blendColor("#6c3483","#00FF00",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath();const e=Math.cos(0)*t.radius*1.2,a=Math.sin(0)*t.radius*1.2;ctx.moveTo(e,a);for(let e=0;e<=2*Math.PI;e+=Math.PI/6){const a=Math.PI/12,i=e%(Math.PI/3)==0?1.2:.8,l=t.radius*i,c=Math.cos(e-a)*(.9*l),r=Math.sin(e-a)*(.9*l),o=Math.cos(e)*l,s=Math.sin(e)*l;ctx.quadraticCurveTo(c,r,o,s)}ctx.lineTo(e,a),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor("#b77fe3","#00FF00",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius/2.3,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.strokeStyle=blendColor("#ffffff","#00FF00",blendAmount(t)),checkForFirstFrame(t)&&(ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=1;for(let e=0;e<8;e++){const a=e*(Math.PI/4),i=Math.cos(a)*(t.radius-6),l=Math.sin(a)*(t.radius-6),c=Math.cos(a)*(t.radius+6),r=Math.sin(a)*(t.radius+6);ctx.beginPath(),ctx.moveTo(i,l),ctx.lineTo(c,r),ctx.stroke(),ctx.closePath()}},Neurotoxin:t=>{ctx.lineWidth=t.radius/1/5.5,ctx.fillStyle=blendColor("#4374ad","#00FF00",blendAmount(t)),ctx.strokeStyle=blendColor("#335883","#00FF00",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath();const e=Math.cos(0)*t.radius*1.2,a=Math.sin(0)*t.radius*1.2;ctx.moveTo(e,a);for(let e=0;e<=2*Math.PI;e+=Math.PI/6){const a=Math.PI/12,i=e%(Math.PI/3)==0?1.2:.8,l=t.radius*i,c=Math.cos(e-a)*(.9*l),r=Math.sin(e-a)*(.9*l),o=Math.cos(e)*l,s=Math.sin(e)*l;ctx.quadraticCurveTo(c,r,o,s)}ctx.lineTo(e,a),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor("#7fbbe2","#00FF00",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius/2.3,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.strokeStyle=blendColor("#cccccc","#00FF00",blendAmount(t)),checkForFirstFrame(t)&&(ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=1;for(let e=0;e<8;e++){const a=e*(Math.PI/4),i=Math.cos(a)*(t.radius-6),l=Math.sin(a)*(t.radius-6),c=Math.cos(a)*(t.radius+6),r=Math.sin(a)*(t.radius+6);ctx.beginPath(),ctx.moveTo(i,l),ctx.lineTo(c,r),ctx.stroke(),ctx.closePath()}},Batrachotoxin:t=>{ctx.lineWidth=t.radius/1/5.5,ctx.fillStyle=blendColor("#ad6c43","#00FF00",blendAmount(t)),ctx.strokeStyle=blendColor("#835233","#00FF00",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath();const e=Math.cos(0)*t.radius*1.2,a=Math.sin(0)*t.radius*1.2;ctx.moveTo(e,a);for(let e=0;e<=2*Math.PI;e+=Math.PI/6){const a=Math.PI/12,i=e%(Math.PI/3)==0?1.2:.8,l=t.radius*i,c=Math.cos(e-a)*(.9*l),r=Math.sin(e-a)*(.9*l),o=Math.cos(e)*l,s=Math.sin(e)*l;ctx.quadraticCurveTo(c,r,o,s)}ctx.lineTo(e,a),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor("#e2967f","#00FF00",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius/2.3,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.strokeStyle=blendColor("#aaaaaa","#00FF00",blendAmount(t)),checkForFirstFrame(t)&&(ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=1;for(let e=0;e<8;e++){const a=e*(Math.PI/4),i=Math.cos(a)*(t.radius-6),l=Math.sin(a)*(t.radius-6),c=Math.cos(a)*(t.radius+6),r=Math.sin(a)*(t.radius+6);ctx.beginPath(),ctx.moveTo(i,l),ctx.lineTo(c,r),ctx.stroke(),ctx.closePath()}},Yucca:t=>{ctx.lineWidth=t.radius/1.35/2.5,ctx.fillStyle=blendColor("#74b53f","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#5e9333","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=t.radius/4.5*1.6,ctx.beginPath(),ctx.lineTo(.49*t.radius*1.6,-.77*t.radius*1.6),ctx.quadraticCurveTo(.67*t.radius*1.6,.37*t.radius*1.6,-.49*t.radius*1.6,.77*t.radius*1.6),ctx.quadraticCurveTo(-.67*t.radius*1.6,-.39*t.radius*1.6,.49*t.radius*1.6,-.77*t.radius*1.6),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.lineWidth=t.radius/8*1.6,ctx.beginPath(),ctx.lineTo(-.45*t.radius*1.6,.64*t.radius*1.6),ctx.quadraticCurveTo(-.09*t.radius*1.6,-.21*t.radius*1.6,.48*t.radius*1.6,-.74*t.radius*1.6),ctx.stroke(),ctx.closePath()},"Shiny Yucca":t=>{ctx.lineWidth=t.radius/1.35/2.5,ctx.fillStyle=blendColor("#ffe419","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cfb914","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=t.radius/4.5*1.6,ctx.beginPath(),ctx.lineTo(.49*t.radius*1.6,-.77*t.radius*1.6),ctx.quadraticCurveTo(.67*t.radius*1.6,.37*t.radius*1.6,-.49*t.radius*1.6,.77*t.radius*1.6),ctx.quadraticCurveTo(-.67*t.radius*1.6,-.39*t.radius*1.6,.49*t.radius*1.6,-.77*t.radius*1.6),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.lineWidth=t.radius/8*1.6,ctx.beginPath(),ctx.lineTo(-.45*t.radius*1.6,.64*t.radius*1.6),ctx.quadraticCurveTo(-.09*t.radius*1.6,-.21*t.radius*1.6,.48*t.radius*1.6,-.74*t.radius*1.6),ctx.stroke(),ctx.closePath()},Pincer:t=>{ctx.fillStyle=blendColor("#333333","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#292929","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=t.radius/4.5,ctx.beginPath(),ctx.lineTo(.35*t.radius*1.4,.79*t.radius*1.4),ctx.quadraticCurveTo(.25*t.radius*1.4,.2*t.radius*1.4,-.85*t.radius*1.4,-.22*t.radius*1.4),ctx.quadraticCurveTo(.93*t.radius*1.4,-.69*t.radius*1.4,.35*t.radius*1.4,.79*t.radius*1.4),ctx.fill(),ctx.stroke(),ctx.closePath()},"Yin Yang":t=>{let e=blendColor("#ffffff","#FF0000",blendAmount(t)),a=blendColor("#cfcfcf","#FF0000",blendAmount(t)),i=blendColor("#333333","#FF0000",blendAmount(t)),l=blendColor("#292929","#FF0000",blendAmount(t));checkForFirstFrame(t)&&(e="#FFFFFF",a="#FFFFFF",i="#FFFFFF",l="#FFFFFF"),ctx.lineWidth=t.radius/4.5,ctx.strokeStyle=a,ctx.fillStyle=e,ctx.beginPath(),ctx.arc(0,0,.89*t.radius,Math.PI/2,Math.PI/2*3),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.strokeStyle=l,ctx.fillStyle=i,ctx.beginPath(),ctx.arc(0,0,.89*t.radius,3*Math.PI/2,Math.PI/2),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.arc(.5,.445*t.radius,.445*t.radius,Math.PI/2,Math.PI/2*3),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.strokeStyle=a,ctx.fillStyle=e,ctx.beginPath(),ctx.arc(-.5,.44*-t.radius,.445*t.radius,Math.PI/2*3,Math.PI/2),ctx.fill(),ctx.stroke(),ctx.closePath()},Rose:t=>{if(ctx.lineWidth=t.radius/1.35/2.5,ctx.fillStyle=blendColor("#ff94c9","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cf78a3","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),t.rarity>=12){let e=3,a=2*Math.PI/e;ctx.beginPath(),ctx.moveTo(Math.cos(-.5*a)*t.radius*.9,Math.sin(-.5*a)*t.radius*.9);for(let i=0;i<e;i++)ctx.quadraticCurveTo(Math.cos(a*i)*t.radius*2,Math.sin(a*i)*t.radius*2,Math.cos(a*(i+.5))*t.radius*.9,Math.sin(a*(i+.5))*t.radius*.9);ctx.fill(),ctx.stroke()}else ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},"Blood Rose":t=>{if(ctx.lineWidth=t.radius/1.35/2.5,ctx.strokeStyle=blendColor("#7e0d0d","#FF0000",blendAmount(t)),ctx.fillStyle=blendColor("#9c1010","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),t.rarity>=12){let e=3,a=2*Math.PI/e;ctx.beginPath(),ctx.moveTo(Math.cos(-.5*a)*t.radius*.9,Math.sin(-.5*a)*t.radius*.9);for(let i=0;i<e;i++)ctx.quadraticCurveTo(Math.cos(a*i)*t.radius*2,Math.sin(a*i)*t.radius*2,Math.cos(a*(i+.5))*t.radius*.9,Math.sin(a*(i+.5))*t.radius*.9);ctx.fill(),ctx.stroke()}else ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},Trident:t=>{ctx.lineWidth=3,ctx.beginPath(),ctx.fillStyle=blendColor("#25dbe8","#FF0000",blendAmount(t)),5==t.rarity&&(ctx.fillStyle=blendColor("#24529c","#FF0000",blendAmount(t))),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(-.15*t.radius,1.4*t.radius),ctx.lineTo(.15*t.radius,1.4*t.radius),ctx.lineTo(.15*t.radius,-.6*t.radius),ctx.lineTo(-.15*t.radius,-.6*t.radius),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(.35*t.radius,-.6*t.radius),ctx.lineTo(-.35*t.radius,-.6*t.radius),ctx.lineTo(0*t.radius,-1.2*t.radius),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.lineTo(.15*t.radius,.75*t.radius),ctx.quadraticCurveTo(.35*t.radius,.72*t.radius,.62*t.radius,.81*t.radius),ctx.lineTo(.42*t.radius,.5*t.radius),ctx.lineTo(.15*t.radius,.5*t.radius),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.lineTo(.62*t.radius,.81*t.radius),ctx.quadraticCurveTo(.66*t.radius,-.12*t.radius,1.22*t.radius,-.84*t.radius),ctx.lineTo(.71*t.radius,-.5*t.radius),ctx.quadraticCurveTo(.5*t.radius,-.26*t.radius,.42*t.radius,.5*t.radius),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.lineTo(.71*t.radius,-.5*t.radius),ctx.lineTo(.56*t.radius,-.54*t.radius),ctx.quadraticCurveTo(.84*t.radius,-.81*t.radius,1.22*t.radius,-.84*t.radius),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.lineTo(-.15*t.radius,.75*t.radius),ctx.quadraticCurveTo(-.35*t.radius,.72*t.radius,-.62*t.radius,.81*t.radius),ctx.lineTo(-.42*t.radius,.5*t.radius),ctx.lineTo(-.15*t.radius,.5*t.radius),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.lineTo(-.62*t.radius,.81*t.radius),ctx.quadraticCurveTo(-.66*t.radius,-.12*t.radius,-1.22*t.radius,-.84*t.radius),ctx.lineTo(-.71*t.radius,-.5*t.radius),ctx.quadraticCurveTo(-.5*t.radius,-.26*t.radius,-.42*t.radius,.5*t.radius),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.lineTo(-.71*t.radius,-.5*t.radius),ctx.lineTo(-.56*t.radius,-.54*t.radius),ctx.quadraticCurveTo(-.84*t.radius,-.81*t.radius,-1.22*t.radius,-.84*t.radius),ctx.fill(),ctx.closePath()},Dahlia:t=>{ctx.lineWidth=t.radius/1/2.5,ctx.fillStyle=blendColor("#ff94c9","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cf78a3","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},Corn:t=>{ctx.lineWidth=.65*t.radius,ctx.fillStyle=blendColor("#ffe419","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cfb914","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.lineTo(-.159*t.radius,1.122*t.radius),ctx.quadraticCurveTo(.16*-t.radius,.17*t.radius,-1.085*t.radius,.342*t.radius),ctx.quadraticCurveTo(-.76*t.radius,-1.91*t.radius,.63*t.radius,-.74*t.radius),ctx.quadraticCurveTo(2*t.radius,.43*t.radius,-.159*t.radius,1.122*t.radius),ctx.stroke(),ctx.fill(),ctx.closePath()},"Blood Corn":t=>{ctx.lineWidth=.65*t.radius,ctx.fillStyle=blendColor("#ff1919","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cf1414","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.lineTo(-.159*t.radius,1.122*t.radius),ctx.quadraticCurveTo(.16*-t.radius,.17*t.radius,-1.085*t.radius,.342*t.radius),ctx.quadraticCurveTo(-.76*t.radius,-1.91*t.radius,.63*t.radius,-.74*t.radius),ctx.quadraticCurveTo(2*t.radius,.43*t.radius,-.159*t.radius,1.122*t.radius),ctx.stroke(),ctx.fill(),ctx.closePath()},Token:t=>{ctx.lineWidth=3,ctx.beginPath(),ctx.fillStyle=blendColor("#ffcb21","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#c79b0c","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=`hsl(${Date.now()/2.5%360}, 50%, 50%)`,ctx.beginPath(),ctx.arc(0,0,t.radius/2.5,0,2*Math.PI),ctx.fill(),ctx.closePath()},Bone:t=>{let e=blendColor("#ffffff","#FF0000",blendAmount(t)),a=blendColor("#cdcdcd","#FF0000",blendAmount(t));checkForFirstFrame(t)&&(e="#FFFFFF",a="#FFFFFF"),ctx.fillStyle=a,ctx.lineWidth=t.radius/6,ctx.beginPath(),ctx.arc(.33*t.radius,.93*t.radius,.39*t.radius,.1*-Math.PI,1.05*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(.7*t.radius,.69*t.radius,.39*t.radius,.45*-Math.PI,.6*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(-.7*t.radius,-.67*t.radius,.39*t.radius,.69*Math.PI,1.8*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(-.32*t.radius,-.91*t.radius,.39*t.radius,.95*Math.PI,.1),ctx.fill(),ctx.closePath(),ctx.fillStyle=e,ctx.beginPath(),ctx.arc(.33*t.radius,.93*t.radius,.22*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(.7*t.radius,.69*t.radius,.22*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(-.7*t.radius,-.67*t.radius,.22*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(-.32*t.radius,-.91*t.radius,.22*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.strokeStyle=a,ctx.beginPath(),ctx.lineTo(.035*t.radius,.86*t.radius),ctx.quadraticCurveTo(-.03*t.radius,.07*t.radius,-.86*t.radius,-.41*t.radius),ctx.lineTo(-.5*t.radius,-.78*t.radius),ctx.lineTo(-.02*t.radius,-.86*t.radius),ctx.quadraticCurveTo(.03*t.radius,-.07*t.radius,.8*t.radius,.42*t.radius),ctx.lineTo(.51*t.radius,.789*t.radius),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.lineTo(.035*t.radius,.86*t.radius),ctx.quadraticCurveTo(-.03*t.radius,.07*t.radius,-.86*t.radius,-.41*t.radius),ctx.moveTo(.8*t.radius,.42*t.radius),ctx.quadraticCurveTo(.03*t.radius,-.07*t.radius,-.02*t.radius,-.86*t.radius),ctx.stroke(),ctx.closePath()},Wing:t=>{ctx.lineWidth=t.radius/1.35/1.9,ctx.fillStyle=blendColor("#ffffff","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cdcdcd","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,1.01*t.radius,.18*-Math.PI,.818*Math.PI),ctx.arcTo(.42*t.radius,.6*t.radius,.85*t.radius,.53*-t.radius,1.7*t.radius),ctx.stroke(),ctx.fill(),ctx.closePath()},"Shiny Wing":t=>{ctx.lineWidth=t.radius/1.35/1.9,ctx.fillStyle=blendColor("#fff991","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#d1cc76","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,1.01*t.radius,.18*-Math.PI,.818*Math.PI),ctx.arcTo(.42*t.radius,.6*t.radius,.85*t.radius,.53*-t.radius,1.7*t.radius),ctx.stroke(),ctx.fill(),ctx.closePath()},Coconut:t=>{ctx.lineWidth=t.radius/1.35/2.2,ctx.fillStyle=blendColor("#8b5a2b","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#5c3b1a","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor("#3b2412","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF");const e=t.radius/6;for(let a=-1;a<=1;a++)ctx.beginPath(),ctx.arc(.35*t.radius*Math.cos(2.0943*a),.35*t.radius*Math.sin(2.0943*a),e,0,2*Math.PI),ctx.fill(),ctx.closePath()},Fig:t=>{ctx.lineWidth=t.radius/1.35/2.2,ctx.fillStyle=blendColor("#7d3c98","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#5e2b7b","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(0,.9*-t.radius),ctx.bezierCurveTo(.9*t.radius,.5*-t.radius,.9*t.radius,.9*t.radius,0,t.radius),ctx.bezierCurveTo(.9*-t.radius,.9*t.radius,.9*-t.radius,.5*-t.radius,0,.9*-t.radius),ctx.fill(),ctx.stroke(),ctx.closePath()},Oranges:t=>{ctx.lineWidth=t.radius/1.35/2.2,ctx.fillStyle=blendColor("#f0bd48","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#c2993a","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor("#39b54a","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#2e933c","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=t.radius/3.4,ctx.beginPath(),ctx.moveTo(.61*t.radius,.13*t.radius),ctx.quadraticCurveTo(.92*t.radius,.51*t.radius,.3*t.radius,1.09*t.radius),ctx.quadraticCurveTo(.08*t.radius,.18*t.radius,.61*t.radius,.13*t.radius),ctx.stroke(),ctx.fill()},"Blood Oranges":t=>{ctx.lineWidth=t.radius/1.35/2.2,ctx.fillStyle=blendColor("#f04848","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#c23a3a","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor("#39b54a","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#2e933c","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=t.radius/3.4,ctx.beginPath(),ctx.moveTo(.61*t.radius,.13*t.radius),ctx.quadraticCurveTo(.92*t.radius,.51*t.radius,.3*t.radius,1.09*t.radius),ctx.quadraticCurveTo(.08*t.radius,.18*t.radius,.61*t.radius,.13*t.radius),ctx.stroke(),ctx.fill()},Spikes:t=>{ctx.lineWidth=t.radius/1.35/2.2,ctx.fillStyle=blendColor("#f5d76e","#ff5e5e",blendAmount(t)),ctx.strokeStyle=blendColor("#c79e2b","#ff0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=2.75,ctx.lineJoin="round",ctx.rotate(Math.PI/2),ctx.beginPath(),ctx.lineWidth=t.radius/1.5,ctx.moveTo(0,-t.radius*Math.sqrt(3)),ctx.lineTo(t.radius*Math.sqrt(3)*.48,t.radius/2*Math.sqrt(3)),ctx.lineTo(-t.radius*Math.sqrt(3)*.48,t.radius/2*Math.sqrt(3)),ctx.lineTo(0,-t.radius*Math.sqrt(3)),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.rotate(-Math.PI/2)},"Neutron Star":t=>{ctx.lineWidth=t.radius/1.35/2.5,ctx.strokeStyle=blendColor("#0f0742","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.strokeStyle="#FFFFFF"),ctx.beginPath();for(let e=7;e--;e>0)ctx.lineTo(Math.cos(e*Math.PI/3+t.angle/5)*t.radius,Math.sin(e*Math.PI/3+t.angle/5)*t.radius*2/3);ctx.stroke(),ctx.closePath(),ctx.strokeStyle=blendColor("#3c115c","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.strokeStyle="#FFFFFF"),ctx.beginPath();for(let e=7;e--;e>0)ctx.lineTo(Math.cos(e*Math.PI/3+Math.PI/6-t.angle/5)*t.radius*2/3,Math.sin(e*Math.PI/3+Math.PI/6-t.angle/5)*t.radius);ctx.stroke(),ctx.closePath()},Honey:t=>{ctx.lineWidth=t.radius/1.35/2.5,ctx.fillStyle=blendColor("#f7cf2f","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#c8a826","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath();for(let e=7;e--;e>0)ctx.lineTo(Math.cos(e*Math.PI/3)*t.radius,Math.sin(e*Math.PI/3)*t.radius);ctx.fill(),ctx.stroke(),ctx.closePath()},Peas:t=>{ctx.lineWidth=t.radius/1/2.5,ctx.fillStyle=blendColor("#8ac255","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#709d45","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},Grapes:t=>{ctx.lineWidth=t.radius/1/2.5,ctx.fillStyle=blendColor("#ce76db","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#a760b1","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},Blueberries:t=>{ctx.lineWidth=t.radius/1/2.5,ctx.strokeStyle=blendColor("#21c4b9","#FF0000",blendAmount(t)),ctx.fillStyle=blendColor("#29f2e5","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},Pomegranate:t=>{ctx.lineWidth=t.radius/1/2.5,ctx.strokeStyle=blendColor("#cf235f","#FF0000",blendAmount(t)),ctx.fillStyle=blendColor("#ff2b75","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},Cactus:t=>{if(6===t.rarity)return void 0!==t.image&&void 0!==t.image.onload||(t.image=new Image,t.image.src="./gfx/deteled.png",t.image.onload=()=>{t.imageLoaded=!0}),void(!0===t.imageLoaded&&ctx.drawImage(t.image,1.1*-t.radius,1.1*-t.radius,2.2*t.radius,2.2*t.radius));ctx.lineWidth=t.radius/1/5.5,ctx.fillStyle=blendColor("#38c75f","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#2da14d","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(t.radius,0);for(let e=0;e<=2*Math.PI;e+=Math.PI/4)ctx.quadraticCurveTo(Math.cos(e-Math.PI/8)*(.7*t.radius),Math.sin(e-Math.PI/8)*(.7*t.radius),Math.cos(e)*t.radius,Math.sin(e)*t.radius);ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor("#74d68f","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius/2,0,2*Math.PI),ctx.fill(),ctx.closePath()},"Shiny Cactus":t=>{if(6===t.rarity)return void 0!==t.image&&void 0!==t.image.onload||(t.image=new Image,t.image.src="./gfx/deteled.png",t.image.onload=()=>{t.imageLoaded=!0}),void(!0===t.imageLoaded&&ctx.drawImage(t.image,1.1*-t.radius,1.1*-t.radius,2.2*t.radius,2.2*t.radius));ctx.lineWidth=t.radius/1/5.5,ctx.fillStyle=blendColor("#d7d228","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#aeaa20","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(t.radius,0);for(let e=0;e<=2*Math.PI;e+=Math.PI/4)ctx.quadraticCurveTo(Math.cos(e-Math.PI/8)*(.7*t.radius),Math.sin(e-Math.PI/8)*(.7*t.radius),Math.cos(e)*t.radius,Math.sin(e)*t.radius);ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor("#f1ee59","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius/2,0,2*Math.PI),ctx.fill(),ctx.closePath()},Dandelion:t=>{ctx.strokeStyle="black",ctx.lineWidth=t.radius/1.39,ctx.beginPath(),ctx.moveTo(1.59*-t.radius,0),ctx.lineTo(0,0),ctx.stroke(),ctx.closePath(),ctx.lineWidth=t.radius/4,ctx.fillStyle=blendColor("#ffffff","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cfcfcf","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#ffffff",ctx.strokeStyle="#ffffff"),ctx.beginPath(),ctx.arc(0,0,9*t.radius/10,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},Egg:t=>{ctx.lineWidth=3,ctx.beginPath(),ctx.fillStyle=blendColor("#fff0b8","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cfc295","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.ellipse(0,0,t.radius,1.35*t.radius,0,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},"Shiny Egg":t=>{ctx.lineWidth=t.radius/4.5,ctx.fillStyle=blendColor("#f5fa6e","#FFFFFF",Math.max(0,blendAmount(t))),ctx.strokeStyle=blendColor("#c6ca59","#FFFFFF",Math.max(0,blendAmount(t))),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.ellipse(0,0,t.radius,1.35*t.radius,0,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},"Jellyfish Egg":t=>{ctx.lineWidth=3,ctx.beginPath(),ctx.fillStyle=blendColor("#ffffff","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#b8b8b8","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.globalAlpha*=.5,ctx.beginPath(),ctx.ellipse(0,0,t.radius,1.35*t.radius,0,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.globalAlpha*=2,ctx.beginPath(),ctx.ellipse(0,0,t.radius,1.35*t.radius,0,0,2*Math.PI),ctx.stroke(),ctx.closePath(),ctx.globalAlpha*=.7,ctx.beginPath(),ctx.arc(.31*t.radius,.5*t.radius,.33*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(-.53*t.radius,.25*t.radius,.12*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(-.34*t.radius,-.29*t.radius,.25*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(.33*t.radius,-.21*t.radius,.165*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(0,-.7*t.radius,.164*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.globalAlpha*=1/.7},"Neuroflare Egg":t=>{ctx.lineWidth=3,ctx.beginPath(),ctx.fillStyle=blendColor("#44b8b4","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#2c9490","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.globalAlpha*=.5,ctx.beginPath(),ctx.ellipse(0,0,t.radius,1.35*t.radius,0,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.globalAlpha*=2,ctx.beginPath(),ctx.ellipse(0,0,t.radius,1.35*t.radius,0,0,2*Math.PI),ctx.stroke(),ctx.closePath(),ctx.globalAlpha*=.7,ctx.beginPath(),ctx.arc(.31*t.radius,.5*t.radius,.33*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(-.53*t.radius,.25*t.radius,.12*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(-.34*t.radius,-.29*t.radius,.25*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(.33*t.radius,-.21*t.radius,.165*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.arc(0,-.7*t.radius,.164*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.globalAlpha*=1/.7},"Plastic Egg":t=>{ctx.lineWidth=3,ctx.beginPath(),ctx.fillStyle=blendColor("#4b89db","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#3563a1","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.ellipse(0,0,t.radius,1.35*t.radius,0,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},"Mini Flower":t=>{ctx.lineWidth=3,void 0!==t.flowerRender&&void 0!==t.flowerRender.drawFlower||(t.flowerRender=new Flower(1));const e=room.flowers[window.selfId];e&&(t.flowerRender.render.petalDistance=e.render.petalDistance,t.flowerRender.render.fastPetalDistance=e.render.fastPetalDistance,t.flowerRender.render.radius=t.radius,t.flowerRender.radius=t.radius),t.flowerRender.drawFlower(0,0,t.radius)},Web:t=>{ctx.lineWidth=t.radius/1/5.5,ctx.fillStyle=blendColor("#ffffff","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cfcfcf","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(t.radius,0);for(let e=0;e<=2*Math.PI;e+=2*Math.PI/5)ctx.quadraticCurveTo(Math.cos(e-1*Math.PI/5)*(.6*t.radius),Math.sin(e-Math.PI/5)*(.6*t.radius),Math.cos(e)*t.radius,Math.sin(e)*t.radius);ctx.fill(),ctx.stroke(),ctx.closePath()},Pollen:t=>{ctx.lineWidth=3,ctx.beginPath(),ctx.fillStyle=blendColor("#ffe763","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cfbb50","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.arc(0,0,t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},Magnet:t=>{t.extraRot&&(ctx.rotate(t.extraRot),ctx.strokeStyle=Colors.rarities[t.magC].color,ctx.lineWidth=t.radius*Math.max(0,Math.min(.25,t.extraRot-.1)),ctx.beginPath(),ctx.arc(0,0,t.radius*(2.5+Math.cos(t.extraRot+Math.PI))*.75,0,2*Math.PI),ctx.stroke(),ctx.closePath()),ctx.fillStyle=blendColor("#a44343","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#853636","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=t.radius/6,ctx.lineCap="butt",ctx.beginPath(),ctx.moveTo(-.25*t.radius,.38*t.radius),ctx.quadraticCurveTo(-.47*t.radius,.22*t.radius,-.42*t.radius,.08*t.radius),ctx.quadraticCurveTo(-.28*t.radius,-.25*t.radius,.05*t.radius,-.48*t.radius),ctx.quadraticCurveTo(.32*t.radius,-1.12*t.radius,-.39*t.radius,-1.05*t.radius),ctx.quadraticCurveTo(-1.78*t.radius,.1*t.radius,-.66*t.radius,.96*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor("#4343a4","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#363685","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(-.68*t.radius,.95*t.radius),ctx.quadraticCurveTo(.65*t.radius,1.65*t.radius,1.1*t.radius,-.06*t.radius),ctx.quadraticCurveTo(.9*t.radius,-.75*t.radius,.4*t.radius,-.24*t.radius),ctx.quadraticCurveTo(.18*t.radius,.7*t.radius,-.25*t.radius,.38*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.lineCap="round",t.extraRot&&(ctx.rotate(-t.extraRot),t.extraRot*=.98,t.extraRot<.1&&delete t.extraRot)},Root:t=>{ctx.lineWidth=.2*t.radius,ctx.fillStyle=blendColor("#b96c32","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#965728","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(-.45*t.radius,-1.18*t.radius),ctx.lineTo(-.3*t.radius,-.94*t.radius),ctx.lineTo(.25*t.radius,-.72*t.radius),ctx.lineTo(.09*t.radius,.17*t.radius),ctx.lineTo(.77*t.radius,.89*t.radius),ctx.lineTo(.3*t.radius,.95*t.radius),ctx.lineTo(-.11*t.radius,1.17*t.radius),ctx.lineTo(-.44*t.radius,.12*t.radius),ctx.lineTo(-.14*t.radius,-.55*t.radius),ctx.lineTo(-.48*t.radius,-.9*t.radius),ctx.closePath(),ctx.fill(),ctx.stroke()},Stick:t=>{ctx.beginPath();let e=blendColor("#7d5b1f","#FF0000",blendAmount(t));ctx.strokeStyle=blendColor("#654a19","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(e="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=.75*t.radius,ctx.beginPath(),ctx.moveTo(-.9*t.radius,.58*t.radius),ctx.lineTo(.01*t.radius,0*t.radius),ctx.lineTo(.56*t.radius,-1.14*t.radius),ctx.moveTo(.01*t.radius,0*t.radius),ctx.lineTo(.88*t.radius,-.06*t.radius),ctx.stroke(),ctx.closePath(),ctx.lineWidth=.35*t.radius,ctx.strokeStyle=e,ctx.beginPath(),ctx.moveTo(-.9*t.radius,.58*t.radius),ctx.lineTo(.01*t.radius,0*t.radius),ctx.lineTo(.56*t.radius,-1.14*t.radius),ctx.moveTo(.01*t.radius,0*t.radius),ctx.lineTo(.88*t.radius,-.06*t.radius),ctx.stroke(),ctx.closePath()},Square:t=>{ctx.beginPath(),ctx.fillStyle=blendColor("#ffe869","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#cfbc55","#FF0000",blendAmount(t)),ctx.lineWidth=2,checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF");for(let e=0;e<=4;e++)ctx.lineTo(Math.cos(1.57079*e)*t.radius,Math.sin(1.57079*e)*t.radius);ctx.fill(),ctx.stroke(),ctx.closePath();let e=1.3+.1*Math.cos(time/300);ctx.globalAlpha*=.5,ctx.beginPath();for(let a=0;a<=4;a++)ctx.lineTo(Math.cos(1.57079*a)*t.radius*e,Math.sin(1.57079*a)*t.radius*e);ctx.fill(),ctx.closePath(),ctx.globalAlpha/=.5},Pentagon:t=>{ctx.beginPath(),ctx.fillStyle=blendColor("#768dfc","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#586bbd","#FF0000",blendAmount(t)),ctx.lineWidth=2,checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF");for(let e=0;e<=5;e++)ctx.lineTo(Math.cos(1.256632*e)*t.radius,Math.sin(1.256632*e)*t.radius);ctx.fill(),ctx.stroke(),ctx.closePath();let e=1.3+.1*Math.cos(time/300);ctx.globalAlpha*=.5,ctx.beginPath();for(let a=0;a<=5;a++)ctx.lineTo(Math.cos(1.256632*a)*t.radius*e,Math.sin(1.256632*a)*t.radius*e);ctx.fill(),ctx.closePath(),ctx.globalAlpha/=.5},Hexagon:t=>{ctx.lineWidth=t.radius/5,ctx.fillStyle=blendColor("#b50e11","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#80090b","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF");let e=1.3+.1*Math.cos(time/300);ctx.beginPath();for(let e=0;e<6;e++)ctx.lineTo(Math.cos(e*Math.PI*2/6)*t.radius,Math.sin(e*Math.PI*2/6)*t.radius);ctx.lineTo(t.radius,0),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.globalAlpha*=.5,ctx.beginPath();for(let a=0;a<=6;a++)ctx.lineTo(Math.cos(a*Math.PI*2/6)*t.radius*e,Math.sin(a*Math.PI*2/6)*t.radius*e);ctx.lineTo(t.radius,0),ctx.fill(),ctx.closePath(),ctx.globalAlpha/=.5},Card:t=>{ctx.lineWidth=3,ctx.beginPath(),ctx.fillStyle=blendColor("#ffffff","#FF0000",blendAmount(t));let e=ctx.strokeStyle=blendColor("#cfcfcf","#FF0000",blendAmount(t)),a=blendColor("#202020","#FF0000",blendAmount(t));checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF",a="#FFFFFF",e="#FFFFFF"),ctx.beginPath(),ctx.roundRect(1.2*-t.radius,.8*-t.radius,2.4*t.radius,1.6*t.radius,t.radius/4),ctx.fill(),ctx.closePath(),ctx.strokeStyle=a,ctx.beginPath(),ctx.moveTo(1.1*-t.radius,.35*t.radius),ctx.lineTo(1.1*t.radius,.35*t.radius),ctx.stroke(),ctx.closePath(),ctx.strokeStyle=e,ctx.beginPath(),ctx.roundRect(1.2*-t.radius,.8*-t.radius,2.4*t.radius,1.6*t.radius,t.radius/4),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor("#d4af37","#FF0000",blendAmount(t)),ctx.beginPath(),ctx.roundRect(.9*-t.radius,.45*-t.radius,.8*t.radius,.5*t.radius,t.radius/4),ctx.fill(),ctx.closePath(),ctx.fillStyle=blendColor("#FF9500","#FF0000",blendAmount(t)),ctx.beginPath(),ctx.arc(.4*t.radius,.2*-t.radius,t.radius/4,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.fillStyle=blendColor("#FF1500","#FF0000",blendAmount(t)),ctx.beginPath(),ctx.arc(.7*t.radius,.2*-t.radius,t.radius/4,0,2*Math.PI),ctx.fill(),ctx.closePath()},Cash:t=>{ctx.lineWidth=.15*t.radius,ctx.beginPath(),ctx.fillStyle=blendColor("#39b54a","#FF0000",blendAmount(t)),ctx.strokeStyle=blendColor("#2e933c","#FF0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.beginPath(),ctx.rect(.75*-t.radius,.375*-t.radius,1.5*t.radius,.75*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor("#2e933c","#FF0000",blendAmount(t)),ctx.beginPath(),ctx.arc(0,0,.2*t.radius,0,2*Math.PI),ctx.fill(),ctx.closePath(),ctx.rect(.525*-t.radius,.2*-t.radius,.1*t.radius,.4*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.rect(.425*t.radius,.2*-t.radius,.1*t.radius,.4*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath()},"Ant Egg":t=>{ctx.lineWidth=t.radius/4.5,ctx.fillStyle=blendColor("#fff0b8","#FFFFFF",Math.max(0,blendAmount(t))),ctx.strokeStyle=blendColor("#cfc295","#FFFFFF",Math.max(0,blendAmount(t))),checkForFirstFrame(t)&&(ctx.fillStyle="#ffffff",ctx.strokeStyle="#ffffff"),ctx.beginPath(),ctx.arc(0,0,9*t.radius/10,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},Lilypad:t=>{ctx.lineWidth=.15*t.radius;let e=blendColor("#39b54a","#FF0000",blendAmount(t)),a=blendColor("#2e933c","#FF0000",blendAmount(t)),i=blendColor("#33a443","#FF0000",blendAmount(t));checkForFirstFrame(t)&&(e="#FFFFFF",a="#FFFFFF",i="#FFFFFF",blossomA="#FFFFFF",blossomB="#FFFFFF"),ctx.fillStyle=i,ctx.strokeStyle=a,ctx.beginPath(),ctx.moveTo(0,0),ctx.arc(0,0,t.radius,-Math.PI/8,Math.PI/8,!0),ctx.lineTo(0,0),ctx.fill(),ctx.closePath(),ctx.fillStyle=e,ctx.beginPath(),ctx.moveTo(0,0),ctx.arc(0,0,.66*t.radius,-Math.PI/8,Math.PI/8,!0),ctx.lineTo(0,0),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(0,0),ctx.arc(0,0,t.radius,-Math.PI/8,Math.PI/8,!0),ctx.lineTo(0,0),ctx.stroke(),ctx.closePath()},"Flowering Lilypad":t=>{ctx.lineWidth=.15*t.radius;let e=blendColor("#39b54a","#FF0000",blendAmount(t)),a=blendColor("#2e933c","#FF0000",blendAmount(t)),i=blendColor("#33a443","#FF0000",blendAmount(t)),l=blendColor("#ff94c9","#FF0000",blendAmount(t)),c=blendColor("#cf78a3","#FF0000",blendAmount(t)),r=blendColor("#ffe419","#FF0000",blendAmount(t)),o=blendColor("#cfb914","#FF0000",blendAmount(t));checkForFirstFrame(t)&&(e="#FFFFFF",a="#FFFFFF",i="#FFFFFF",l="#FFFFFF",c="#FFFFFF",r="#FFFFFF",o="#FFFFFF"),ctx.fillStyle=i,ctx.strokeStyle=a,ctx.beginPath(),ctx.moveTo(0,0),ctx.arc(0,0,t.radius,0,Math.PI/8,!0),ctx.lineTo(0,0),ctx.fill(),ctx.closePath(),ctx.fillStyle=e,ctx.beginPath(),ctx.moveTo(0,0),ctx.arc(0,0,.66*t.radius,0,Math.PI/8,!0),ctx.lineTo(0,0),ctx.fill(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(0,0),ctx.arc(0,0,t.radius,0,Math.PI/8,!0),ctx.lineTo(0,0),ctx.stroke(),ctx.closePath(),ctx.fillStyle=l,ctx.strokeStyle=c;for(let e=0;e<8;e++)ctx.beginPath(),ctx.moveTo(0,0),ctx.quadraticCurveTo(.5*t.radius,.25*t.radius,.75*t.radius,0),ctx.quadraticCurveTo(.5*t.radius,-.25*t.radius,0,0),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.rotate(Math.PI/4);ctx.fillStyle=r,ctx.strokeStyle=o,ctx.lineWidth=.075*t.radius,ctx.beginPath(),ctx.arc(0,0,.1*t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},LilypadProjectile:t=>{petalRenderMap.Lilypad(t)},LilypadGiantProjectile:t=>{petalRenderMap["Flowering Lilypad"](t)},Blossom:t=>{ctx.lineWidth=.15*t.radius;let e=blendColor("#ff94c9","#FF0000",blendAmount(t)),a=blendColor("#cf78a3","#FF0000",blendAmount(t)),i=blendColor("#ffe419","#FF0000",blendAmount(t)),l=blendColor("#cfb914","#FF0000",blendAmount(t));checkForFirstFrame(t)&&(e="#FFFFFF",a="#FFFFFF",i="#FFFFFF",l="#FFFFFF"),ctx.lineWidth=.1*t.radius,ctx.fillStyle=e,ctx.strokeStyle=a;for(let e=0;e<8;e++)ctx.beginPath(),ctx.moveTo(0,0),ctx.quadraticCurveTo(.5*t.radius,.25*t.radius,.75*t.radius,0),ctx.quadraticCurveTo(.5*t.radius,-.25*t.radius,0,0),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.rotate(Math.PI/4);ctx.fillStyle=i,ctx.strokeStyle=l,ctx.lineWidth=.075*t.radius,ctx.beginPath(),ctx.arc(0,0,.1*t.radius,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath()},Carapace:t=>{let e=blendColor("#b15a3f","#FF0000",Math.max(0,blendAmount(t))),a=blendColor("#dc704b","#FF0000",Math.max(0,blendAmount(t)));checkForFirstFrame(t)&&(e="#ffffff",a="#ffffff"),ctx.lineJoin="round",ctx.lineCap="round",ctx.strokeStyle=e,ctx.fillStyle=a,ctx.lineWidth=.1826086956521739*t.radius,ctx.beginPath(),ctx.ellipse(0,0,.8695652173913043*t.radius,1.1130434782608696*t.radius,0,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.lineTo(-.49*t.radius,-.39*t.radius),ctx.quadraticCurveTo(0*t.radius,-.16*t.radius,.49*t.radius,-.39*t.radius),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.lineTo(-.49*t.radius,.39*t.radius),ctx.quadraticCurveTo(0*t.radius,.16*t.radius,.49*t.radius,.39*t.radius),ctx.stroke(),ctx.closePath()},Thorax:t=>{let e=blendColor("#5a8f3f","#228B22",Math.max(0,blendAmount(t))),a=blendColor("#7fbf4b","#32CD32",Math.max(0,blendAmount(t)));checkForFirstFrame(t)&&(e="#ffffff",a="#ffffff"),ctx.lineJoin="round",ctx.lineCap="round",ctx.strokeStyle=e,ctx.fillStyle=a,ctx.lineWidth=.15*t.radius,ctx.beginPath(),ctx.ellipse(0,0,.7*t.radius,1.2*t.radius,0,0,2*Math.PI),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.lineWidth=.08*t.radius,ctx.beginPath(),ctx.moveTo(.6*-t.radius,.3*-t.radius),ctx.lineTo(.6*t.radius,.3*-t.radius),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(.6*-t.radius,0),ctx.lineTo(.6*t.radius,0),ctx.stroke(),ctx.closePath(),ctx.beginPath(),ctx.moveTo(.6*-t.radius,.3*t.radius),ctx.lineTo(.6*t.radius,.3*t.radius),ctx.stroke(),ctx.closePath(),ctx.lineWidth=.05*t.radius,ctx.beginPath(),ctx.moveTo(0,.9*-t.radius),ctx.quadraticCurveTo(.2*t.radius,0,0,.9*t.radius),ctx.stroke(),ctx.closePath()},"Trinket of the Hivemind":t=>{ctx.fillStyle=blendColor("#ccb866","#ff0000",blendAmount(t)),ctx.strokeStyle=blendColor("#b8a756","#ff0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=.15*t.radius;let e=2*Math.PI/3;ctx.beginPath(),ctx.moveTo(t.radius,0);for(let a=0;a<=3;a++)ctx.lineTo(Math.cos(a*e)*t.radius*1.33,Math.sin(a*e)*t.radius*1.33),ctx.lineTo(Math.cos((a+.5)*e)*t.radius*.45,Math.sin((a+.5)*e)*t.radius*.45);ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor("#d5c481","#ff0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(t.radius/2,0);for(let a=0;a<=3;a++)ctx.lineTo(Math.cos(a*e)*t.radius*1.33/2,Math.sin(a*e)*t.radius*1.33/2),ctx.lineTo(Math.cos((a+.5)*e)*t.radius/2*.45,Math.sin((a+.5)*e)*t.radius/2*.45);ctx.fill(),ctx.closePath()},"Trinket of the Sea":t=>{ctx.fillStyle=blendColor("#4b89db","#ff0000",blendAmount(t)),ctx.strokeStyle=blendColor("#3563a1","#ff0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=.15*t.radius;let e=2*Math.PI/4;ctx.beginPath(),ctx.moveTo(t.radius,0);for(let a=0;a<=4;a++)ctx.lineTo(Math.cos(a*e)*t.radius,Math.sin(a*e)*t.radius),ctx.lineTo(Math.cos((a+.5)*e)*t.radius*.5,Math.sin((a+.5)*e)*t.radius*.5);ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor("#6b9ee1","#ff0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(t.radius/2,0);for(let a=0;a<=4;a++)ctx.lineTo(Math.cos(a*e)*t.radius/2,Math.sin(a*e)*t.radius/2),ctx.lineTo(Math.cos((a+.5)*e)*t.radius/2*.5,Math.sin((a+.5)*e)*t.radius/2*.5);ctx.fill(),ctx.closePath()},"Trinket of the Wild":t=>{ctx.fillStyle=blendColor("#257831","#ff0000",blendAmount(t)),ctx.strokeStyle=blendColor("#1e6228","#ff0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=.15*t.radius;let e=2*Math.PI/6;ctx.beginPath(),ctx.moveTo(t.radius,0);for(let a=0;a<=6;a++)ctx.lineTo(Math.cos(a*e)*t.radius,Math.sin(a*e)*t.radius),ctx.lineTo(Math.cos((a+.5)*e)*t.radius*.66,Math.sin((a+.5)*e)*t.radius*.66);ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=blendColor("#4c9056","#ff0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF"),ctx.beginPath(),ctx.moveTo(t.radius/2,0);for(let a=0;a<=6;a++)ctx.lineTo(Math.cos(a*e)*t.radius/2,Math.sin(a*e)*t.radius/2),ctx.lineTo(Math.cos((a+.5)*e)*t.radius/2*.66,Math.sin((a+.5)*e)*t.radius/2*.66);ctx.fill(),ctx.closePath()},Plank:t=>{ctx.fillStyle=blendColor("#b86c32","#ff0000",blendAmount(t)),ctx.strokeStyle=blendColor("#955728","#ff0000",blendAmount(t)),checkForFirstFrame(t)&&(ctx.fillStyle="#FFFFFF",ctx.strokeStyle="#FFFFFF"),ctx.lineWidth=.15*t.radius,ctx.beginPath(),ctx.moveTo(-.63*t.radius,-1.41*t.radius),ctx.lineTo(.55*t.radius,-1.43*t.radius),ctx.lineTo(.57*t.radius,-1.03*t.radius),ctx.lineTo(.45*t.radius,-.48*t.radius),ctx.lineTo(.59*t.radius,-.48*t.radius),ctx.lineTo(.63*t.radius,1.42*t.radius),ctx.lineTo(.28*t.radius,1.42*t.radius),ctx.lineTo(.17*t.radius,1.22*t.radius),ctx.lineTo(.17*t.radius,1.43*t.radius),ctx.lineTo(-.56*t.radius,1.42*t.radius),ctx.lineTo(-.62*t.radius,.18*t.radius),ctx.lineTo(-.38*t.radius,.16*t.radius),ctx.lineTo(-.61*t.radius,.07*t.radius),ctx.lineTo(-.63*t.radius,-1.41*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.lineWidth=.12*t.radius,ctx.beginPath(),ctx.moveTo(-.37*t.radius,-.98*t.radius),ctx.quadraticCurveTo(-.09*t.radius,-1.33*t.radius,.05*t.radius,-.99*t.radius),ctx.quadraticCurveTo(-.05*t.radius,-.63*t.radius,-.19*t.radius,-.8*t.radius),ctx.quadraticCurveTo(-.3*t.radius,-.89*t.radius,-.17*t.radius,-.96*t.radius),ctx.quadraticCurveTo(-.08*t.radius,-.98*t.radius,-.08*t.radius,-.9*t.radius),ctx.stroke(),ctx.closePath()},Carrot:t=>{let e=blendColor("#39b54a","#ff0000",blendAmount(t)),a=blendColor("#2e933c","#ff0000",blendAmount(t)),i=blendColor("#f09148","#ff0000",blendAmount(t)),l=blendColor("#c2753a","#ff0000",blendAmount(t));checkForFirstFrame(t)&&(e="#FFFFFF",a="#FFFFFF",i="#FFFFFF",l="#FFFFFF"),ctx.fillStyle=e,ctx.strokeStyle=a,ctx.lineWidth=.16*t.radius,ctx.rotate(-Math.PI/2),ctx.beginPath(),ctx.moveTo(-.16*t.radius,-.9*t.radius),ctx.quadraticCurveTo(.06*t.radius,-.94*t.radius,.25*t.radius,-.85*t.radius),ctx.quadraticCurveTo(.24*t.radius,-1.05*t.radius,.62*t.radius,-1.15*t.radius),ctx.quadraticCurveTo(.6*t.radius,-1.34*t.radius,.22*t.radius,-1.22*t.radius),ctx.quadraticCurveTo(.1*t.radius,-1.86*t.radius,-.13*t.radius,-1.78*t.radius),ctx.quadraticCurveTo(-.04*t.radius,-1.38*t.radius,-.12*t.radius,-1.23*t.radius),ctx.quadraticCurveTo(-.18*t.radius,-1.34*t.radius,-.58*t.radius,-1.41*t.radius),ctx.quadraticCurveTo(-.17*t.radius,-1.03*t.radius,-.16*t.radius,-.9*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.fillStyle=i,ctx.strokeStyle=l,ctx.beginPath(),ctx.moveTo(0,.8*-t.radius),ctx.bezierCurveTo(.5*t.radius,-.77*t.radius,.61*t.radius,.2*t.radius,0,1.32*t.radius),ctx.moveTo(0,.8*-t.radius),ctx.bezierCurveTo(-.5*t.radius,-.77*t.radius,-.61*t.radius,.2*t.radius,0,1.32*t.radius),ctx.fill(),ctx.stroke(),ctx.closePath(),ctx.rotate(Math.PI/2)},CarrotProjectile:t=>{petalRenderMap.Carrot(t)},"Shattered Relic of Wrath":t=>{petalRenderMap.Basic(t)},"Reinforced Relic of Wrath":t=>{petalRenderMap.Basic(t)},"Subset Relic of the Guardian":t=>{petalRenderMap.Basic(t)},"Division Relic of the Guardian":t=>{petalRenderMap.Basic(t)},"Guard Relic of the Guardian":t=>{petalRenderMap.Basic(t)},"Knight Relic of the Guardian":t=>{petalRenderMap.Basic(t)},"Aid Relic of Serenity":t=>{petalRenderMap.Basic(t)},"Subliminal Relic of Serenity":t=>{petalRenderMap.Basic(t)},"Barrier Relic of Serenity":t=>{petalRenderMap.Basic(t)},Custom:(t,...e)=>{if(void 0!==petalRenderMap[t.customType])return void petalRenderMap[t.customType](t,...e);const a=editorPetalShapesMap[t.customType];if(void 0===a)return;const i=!0===t.dying&&!0!==t.insidePetalContainer?1:ctx.globalAlpha;ctx.fillOpacity=1,ctx.strokeOpacity=1,ctx.lineWidth=.3,ctx.save(),ctx.scale(t.radius,t.radius);let l=blendAmount(t);checkForFirstFrame(t)?window.overrideBlendColor=[1,"#FFFFFF"]:window.overrideBlendColor=l>0?[l,"#FF0000"]:void 0,ctx.setGlobalAlpha(ctx.globalAlpha),ctx.setFillStyle("#FFFFFF"),ctx.setStrokeStyle("#cfcfcf");for(let t=0;t<a.length;t++){ctx.beginPath();for(let e=0;e<a[t].length;e++)ctx[a[t][e][0]](...a[t][e].slice(1));ctx.setGlobalAlpha(ctx.fillOpacity*i),ctx.fill(),ctx.setGlobalAlpha(ctx.strokeOpacity*i),ctx.stroke(),ctx.closePath(),ctx.setGlobalAlpha(i,!0)}ctx.restore(),1===a.length&&0===a[0].length&&petalRenderMap.Basic(t)}};